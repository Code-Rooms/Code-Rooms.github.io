(this.webpackJsonpcoderooms=this.webpackJsonpcoderooms||[]).push([[0],{294:function(e,t){},364:function(e,t,n){},579:function(e,t){},580:function(e,t){},678:function(e,t,n){},679:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),i=n(37),r=n.n(i),c=(n(364),n(46)),o=n(20),l=n(11),d=n.n(l),u=n(18),j=n(10),m=n(702),b=n(704),p=n(53),h=n(19),x=n.n(h),O=n(27),f=n(2);function g(){document.title="Login | Code Rooms";var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(""),c=Object(j.a)(r,2),l=c[0],h=c[1],g=(Object(o.g)(),Object(O.b)()),v=g.enqueueSnackbar,y=g.closeSnackbar,S=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(t),i(!0),e.next=4,x.a.get("/auth/resend_verification_link",{params:{username:l}}).then((function(e){v("Verification link sent.",{variant:"success"})})).catch((function(e){try{v(e.response.data.detail,{variant:"error"})}catch(t){v("Some Error occurred.",{variant:"error"})}}));case 4:i(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){return Object(f.jsx)(s.a.Fragment,{children:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{onClick:function(){S(e)},style:{background:"transparent",border:"none",cursor:"pointer",color:"#fc28b2",paddingRight:"8px",textDecoration:"underline",fontWeight:"bolder"},children:"Resend Email"}),Object(f.jsx)("div",{onClick:function(){y(e)},style:{background:"transparent",border:"none",cursor:"pointer",color:"#fc28b2",textDecoration:"underline",fontWeight:"bolder"},children:"Dismiss"})]})})},R=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),h(t.userName),e.next=4,x.a.post("/auth/login",{username:t.userName,password:t.password}).then((function(e){localStorage.setItem("JWTtoken",e.data.access_token),window.location.href="/"})).catch((function(e){try{406===e.response.status?v(e.response.data.detail,{variant:"warning",persist:!0,action:w}):v(e.response.data.detail,{variant:"error"})}catch(t){v("Some Error occurred.",{variant:"error"})}}));case 4:i(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"login-outer-div",children:[Object(f.jsx)("img",{src:"./Logo.PNG",style:{alignSelf:"center",width:"250px",boxShadow:"20px 20px 2px rgba(0, 0, 0, 0.3)"}}),Object(f.jsx)("div",{className:"login-header-div",children:"Login"}),Object(f.jsxs)(m.a,{name:"basic",labelCol:{span:24},wrapperCol:{span:24},initialValues:{remember:!0},onFinish:R,onFinishFailed:function(e){try{v(e.errorFields[0].errors[0],{variant:"error"})}catch(t){v("Some Error occurred.",{variant:"error"})}},autoComplete:"off",className:"login-form",children:[Object(f.jsx)(m.a.Item,{label:Object(f.jsx)("label",{style:{color:"var(--primaryText)"},children:"Username / Email"}),name:"userName",rules:[{required:!0,message:"Please input your username/email !"}],children:Object(f.jsx)(b.a,{})}),Object(f.jsx)(m.a.Item,{label:Object(f.jsx)("label",{style:{color:"var(--primaryText)"},children:"Password"}),name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(f.jsx)(b.a.Password,{})}),Object(f.jsx)("div",{children:Object(f.jsx)("a",{href:"/#/change_password",children:" Forgot password. "})}),Object(f.jsx)("a",{href:"/#/signup",children:" Dont have an account ? Create one. "}),Object(f.jsx)(m.a.Item,{children:Object(f.jsx)(p.a,{htmlType:"submit",loading:n,style:{backgroundColor:"var(--success)",fontSize:"20px",height:"auto",marginTop:"10px"},children:"Log in"})})]})]})}var v=n(209),y=n(29),S=function(e){return{type:"AR_SET_LOGGED",payload:e}},w=function(){return localStorage.removeItem("JWTtoken"),{type:"AR_LOGOUT"}},R=n(210),C=n.n(R),N=n(24),k=n.n(N),I=n(65),T=n(47),_=n.n(T),E=function(e){return{type:"RDR_SET_MYROOMS",payload:e}},q=function(e){return{type:"RDR_SET_ENROLLED",payload:e}},L=function(e){return{type:"RDR_SET_BREADCRUMB",payload:e}};function D(){document.title="Home | Code Rooms";var e=Object(a.useState)(!0),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)([]),r=Object(j.a)(i,2),o=r[0],l=r[1],m=Object(O.b)().enqueueSnackbar,b=Object(y.b)();Object(a.useEffect)(Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(L([])),s(!0),e.next=4,x.a.get("/due_questions").then((function(e){l(e.data.due)})).catch((function(e){e.response?401===e.response.status?b(w()):m("Some Error occurred while getting due questions",{variant:"error"}):m("Some Error occurred while getting due questions.",{variant:"error"})}));case 4:s(!1);case 5:case"end":return e.stop()}}),e)}))),[]);var p=function(e){return k()(e.endTime).diff(k()().format(),"seconds")<0?Object(f.jsx)("div",{style:{color:"var(--error)",fontSize:"22px"},children:"Due date over"}):k()(e.endTime).diff(k()().format(),"hours")>48?Object(f.jsxs)("span",{style:{fontSize:"20px",display:"inline-flex",color:"var(--privateRoom)"},children:["Due : ",k()(e.endTime).format("Do MMM")]}):k()(e.endTime).diff(k()().format(),"hours")>24?Object(f.jsx)("span",{style:{fontSize:"20px",display:"inline-flex",color:"var(--privateRoom)"},children:"Due : Tommorow"}):k()(e.endTime).diff(k()().format(),"hours")>10?Object(f.jsx)("span",{style:{fontSize:"20px",display:"inline-flex",color:"var(--privateRoom)"},children:"Due : Today"}):Object(f.jsx)("div",{children:Object(f.jsx)(C.a,{valueStyle:{color:"var(--privateRoom)",fontSize:"22px"},value:e.endTime,onFinish:function(){window.location.reload()},format:"[Due] : H[h] : m[m] : s[s]"})})};return n?Object(f.jsxs)("div",{className:"VerifyEmail-heading-div",children:[Object(f.jsx)("div",{children:"Getting Your Data ...."}),Object(f.jsx)("div",{style:{marginTop:"40px",position:"relative"},children:Object(f.jsx)(_.a,{size:"large",color:"var(--loadingColor)"})})]}):0===o.length?Object(f.jsx)("div",{className:"playground-code-title",style:{paddingTop:"20px"},children:"No Questions Due !!"}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"playground-code-title",style:{paddingTop:"20px"},children:"Questions Due"}),Object(f.jsx)("div",{style:{fontSize:"20px",color:"#fff"},children:o.map((function(e){return Object(f.jsx)(c.b,{to:"/question?qId="+e.questionId,children:Object(f.jsxs)("div",{className:"myRooms-cards-box",children:[Object(f.jsx)("div",{className:"myRooms-cards-info",children:Object(f.jsx)("div",{className:"myRooms-cards-title",children:Object(f.jsx)("span",{children:e.title})})}),Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"myRooms-cards-description",children:[Object(f.jsx)("span",{style:{marginLeft:"10px",display:"inline-flex",minWidth:"70px",fontWeight:"bolder"},children:"Room"}),": ",e.roomName]}),Object(f.jsx)("div",{className:"myRooms-cards-description",style:{marginLeft:"8px"},children:"code"===e._type?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(I.a,{}),Object(f.jsx)("span",{style:{marginLeft:"10px",display:"inline-flex"},children:"Code Type"})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(I.c,{}),Object(f.jsx)("span",{style:{marginLeft:"10px",display:"inline-flex"},children:"File Type"})]})}),Object(f.jsx)("div",{className:"myRooms-card-bottom-bar",children:p(e)})]})]})},"room.roomId")}))})]})}var F=n(707),z=n(104),P=n(101),A=n(51),M=n(212),B=n(713),U=n(714),W=n(715),V=n(716),Q=n(717),J=n(718),G=n(719),K=n(353),Y=n(720),H=n(698);function $(){return Object(f.jsx)(H.a,{style:{margin:"0px"}})}var Z=z.a.SubMenu;function X(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(y.c)((function(e){return e.authReducer})),r=Object(y.c)((function(e){return e.roomsDataReducer})),c=Object(y.b)(),l=Object(o.g)(),d=function(e){s(!1),l.push(e)};return Object(f.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(f.jsx)(B.a,{style:{fontSize:"25px",color:"var(--primaryText)"},onClick:function(){s(!0)}}),Object(f.jsx)(F.a,{title:Object(f.jsx)(P.a,{title:i.accountType>0?"Teacher account":"Student account",placement:"bottomLeft",children:Object(f.jsxs)("div",{style:{width:"100%",display:"inline-flex",alignItems:"center"},children:[Object(f.jsx)(A.h,{style:{fontSize:"20px",marginRight:"20px"}}),Object(f.jsx)("div",{style:{fontSize:"20px"},children:i.userName})]})}),footer:Object(f.jsxs)(z.a,{style:{background:"var(--primaryBackground)"},mode:"vertical",theme:"dark",selectable:!1,children:[Object(f.jsx)($,{}),Object(f.jsx)(z.a.Item,{icon:Object(f.jsx)(M.b,{}),children:"Version 0.1"},"2"),Object(f.jsx)($,{}),Object(f.jsx)(z.a.Item,{children:Object(f.jsx)("a",{href:"https://smartiam.in/",target:"_blank",children:"Hosted :- SmartIAM"})},"3")]}),keyboard:!0,placement:"left",closable:!1,onClose:function(){s(!1)},visible:n,bodyStyle:{backgroundColor:"var(--primaryBackground)",padding:"0px"},headerStyle:{backgroundColor:"var(--primaryBackground)",height:"61px",borderBottom:"2px solid var(--primaryText)"},footerStyle:{backgroundColor:"var(--primaryBackground)",borderTop:"None",padding:"0px"},defaultSelectedKeys:["home"],defaultOpenKeys:["home"],children:Object(f.jsxs)(z.a,{style:{background:"var(--primaryBackground)"},mode:"vertical",theme:"dark",selectable:!1,children:[Object(f.jsx)(z.a.Item,{className:"navbar-drawer-item",icon:Object(f.jsx)(U.a,{}),onClick:function(){d("/")},children:"Home"},"home"),Object(f.jsx)($,{}),Object(f.jsx)(Z,{icon:Object(f.jsx)(W.a,{}),title:"Enrolled Rooms",onTitleClick:function(){d("/enrolled_rooms")},children:r.enrolledRoomsLoading?Object(f.jsx)(z.a.Item,{children:"Loading ....."}):0===r.enrolledRooms.length?Object(f.jsx)(z.a.Item,{children:"No Rooms"}):r.enrolledRooms.map((function(e){return Object(f.jsx)(z.a.Item,{onClick:function(){d("/enrolled_rooms/".concat(e.roomId))},children:e.roomName},e.roomId)}))},"sub1"),i.accountType>0?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)($,{}),Object(f.jsxs)(Z,{icon:Object(f.jsx)(V.a,{}),title:"My Rooms",onTitleClick:function(){d("/my_rooms")},children:[r.myRoomsLoading?Object(f.jsx)(z.a.Item,{children:"Loading ....."}):0===r.myRooms.length?Object(f.jsx)(z.a.Item,{children:"No Rooms"}):r.myRooms.map((function(e){return Object(f.jsx)(z.a.Item,{onClick:function(){d("/my_rooms/".concat(e.roomId))},children:e.roomName},e.roomId)})),Object(f.jsx)($,{}),Object(f.jsx)(z.a.Item,{icon:Object(f.jsx)(Q.a,{}),onClick:function(){d("/my_rooms?createNewRoom=true")},children:"Create New"})]},"sub2")]}):Object(f.jsx)(f.Fragment,{}),Object(f.jsx)($,{}),Object(f.jsx)(z.a.Item,{icon:Object(f.jsx)(J.a,{}),onClick:function(){d("/code")},children:"Code Playground"},"code"),Object(f.jsx)($,{}),Object(f.jsx)(z.a.Item,{icon:Object(f.jsx)(G.a,{}),onClick:function(){d("/user_settings")},children:"Settings"},"settings"),Object(f.jsx)($,{}),Object(f.jsx)(z.a.Item,{icon:Object(f.jsx)(K.a,{}),onClick:function(){d("/about")},children:"About"},"about"),Object(f.jsx)($,{}),Object(f.jsx)(z.a.Item,{icon:Object(f.jsx)(Y.a,{}),onClick:function(){c(w())},children:"Logout"},"logout"),Object(f.jsx)($,{})]})},"left")]})}var ee=n(709);function te(){var e=Object(y.c)((function(e){return e.roomsDataReducer}));return Object(f.jsxs)("div",{className:"navbar-outer-div",children:[Object(f.jsxs)("div",{style:{display:"inline-flex"},children:[Object(f.jsx)(X,{}),Object(f.jsxs)(ee.a,{style:{display:"flex",alignItems:"center",marginLeft:"20px",fontSize:"18px"},children:[Object(f.jsx)(ee.a.Item,{href:"",children:Object(f.jsx)(c.b,{to:"/",children:Object(f.jsx)("span",{style:{marginLeft:"3px"},children:"Home"})})}),e.breadcrumb.map((function(e){return Object(f.jsx)(ee.a.Item,{href:"",children:Object(f.jsx)(c.b,{to:e.url,children:Object(f.jsx)("span",{style:{marginLeft:"3px"},children:e.name})})})}))]})]}),Object(f.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(f.jsx)(P.a,{title:"coderooms.sr@gmail.com",children:Object(f.jsx)("div",{style:{fontSize:"25px",margin:"0px 20px",fontStyle:"italic",cursor:"pointer"},children:"Code Rooms"})})})]})}var ne=n(706),ae=n(117);function se(e){var t=e.createNewRoom,n=Object(y.c)((function(e){return e.roomsDataReducer}));return 0===n.myRooms.length?Object(f.jsx)(ne.a,{title:"No Rooms created.",extra:Object(f.jsx)(p.a,{type:"primary",onClick:t,children:"Create First Room"},"console")}):Object(f.jsx)("div",{className:"myRooms-cards-outer",children:Object(f.jsx)(ae.a,{breakpointCols:{default:5,1900:4,1520:3,1180:2,830:1},className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:n.myRooms.map((function(e){return Object(f.jsx)(c.b,{to:"/my_rooms/"+e.roomId,children:Object(f.jsxs)("div",{className:"myRooms-cards-box",children:[Object(f.jsxs)("div",{className:"myRooms-cards-info",children:[Object(f.jsx)("div",{className:"myRooms-cards-title",children:Object(f.jsx)("span",{children:e.roomName})}),Object(f.jsxs)("div",{className:"myRooms-cards-description",children:[Object(f.jsx)(A.g,{}),Object(f.jsx)("span",{style:{marginLeft:"10px",display:"inline-flex",minWidth:"150px"},children:"Enrolled"}),e.enrolled]}),Object(f.jsxs)("div",{className:"myRooms-cards-description",children:[Object(f.jsx)(A.f,{}),Object(f.jsx)("span",{style:{marginLeft:"10px",display:"inline-flex",minWidth:"150px"},children:"Questions"}),e.questions]})]}),Object(f.jsx)("div",{className:"myRooms-card-bottom-bar",children:(t=e.visibility,"public"===t?Object(f.jsx)("div",{className:"myRooms-room-visibility myRooms-public-room",children:"Public"}):"private"===t?Object(f.jsx)("div",{className:"myRooms-room-visibility myRooms-private-room",children:"Private"}):"hidden"===t?Object(f.jsx)("div",{className:"myRooms-room-visibility myRooms-hidden-room",children:"Hidden"}):void 0)})]})},e.roomId);var t}))})})}function ie(e){var t=e.getMyRoomsData;document.title="My Rooms | Code Rooms";var n=Object(a.useState)("Getting Your Rooms Data ...."),s=Object(j.a)(n,2),i=s[0],r=s[1],c=Object(y.c)((function(e){return e.roomsDataReducer})),l=Object(y.c)((function(e){return e.authReducer})),m=Object(y.b)(),b=Object(O.b)().enqueueSnackbar,p=Object(o.g)(),h=new URLSearchParams(Object(o.h)().search);Object(a.useEffect)((function(){t(),m(L([{name:"My Rooms",url:"/my_rooms"}])),h.has("createNewRoom")&&g()}),[h.get("createNewRoom")]);var g=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r("Creating a new Room, please wait ...."),m({type:"RDR_SET_MYROOMS_LOADING"}),e.next=4,x.a.post("/create_room",{roomName:l.firstName+"'s Room "+(c.myRooms.length+1)}).then((function(e){m(E(e.data.myRooms)),p.push("/my_rooms/"+e.data.newRoomId+"?settingsOpen=true")})).catch((function(e){e.response&&401===e.response.status?m(w()):b("Some Error occurred while creating room",{variant:"error"})}));case 4:m({type:"RDR_REMOVE_MYROOMS_LOADING"});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.myRoomsLoading?Object(f.jsxs)("div",{className:"VerifyEmail-heading-div",children:[Object(f.jsx)("div",{children:i}),Object(f.jsx)("div",{style:{marginTop:"40px",position:"relative"},children:Object(f.jsx)(_.a,{size:"large",color:"var(--loadingColor)"})})]}):Object(f.jsxs)("div",{className:"myRooms-outer-div",children:[Object(f.jsxs)("div",{className:"myRooms-header",children:[Object(f.jsx)("span",{children:"Your Rooms"}),Object(f.jsxs)("div",{className:"myRooms-createNew-button",onClick:g,children:[Object(f.jsx)(Q.a,{}),Object(f.jsx)("span",{style:{marginLeft:"5px"},children:" Create New "})]})]}),Object(f.jsx)(H.a,{}),Object(f.jsx)(se,{createNewRoom:g})]})}var re=n(721),ce=n(147),oe=n(88),le=n(28),de=n(705),ue=n(166),je=n(710);function me(e){var t=e.settingsVisible,n=e.setSettingsVisible,s=e.roomInfo,i=e.setRoomInfo,r=Object(a.useState)(!1),c=Object(j.a)(r,2),o=c[0],l=c[1],h=Object(a.useState)(s.specialFields||[]),g=Object(j.a)(h,2),v=g[0],S=g[1],w=Object(O.b)().enqueueSnackbar,R=Object(y.b)(),C=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,x.a.post("/update_room_settings",{roomId:s.roomId,roomName:void 0===t.roomName?s.roomName:t.roomName,visibility:void 0===t.visibility?s.visibility:t.visibility,waitingRoomEnabled:void 0===t.waitingRoomEnabled?s.waitingRoomEnabled:t.waitingRoomEnabled,specialFields:v}).then((function(e){R(E(e.data.myRooms));var t=Object(le.a)({},s);t.roomName=e.data.roomInfo.roomName,t.visibility=e.data.roomInfo.visibility,t.waitingRoomEnabled=e.data.roomInfo.waitingRoomEnabled,t.enrolled=e.data.roomInfo.enrolled,i(t),n(!1),w("Settings Updated",{variant:"success"})})).catch((function(e){w("Error while updating Settings",{variant:"error"})}));case 3:l(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)(de.a,{title:Object(f.jsx)("div",{className:"myRooms-header",children:"Settings"}),visible:t,destroyOnClose:!0,onCancel:function(){n(!1)},style:{Radius:"20px"},footer:null,children:Object(f.jsxs)(m.a,{layout:"horizontal",onFinish:function(e){console.log(e),C(e)},children:[Object(f.jsx)(m.a.Item,{name:"roomName",labelCol:{span:5},wrapperCol:{span:10},label:"Room Name",labelAlign:"right",children:Object(f.jsx)(b.a,{defaultValue:s.roomName})}),Object(f.jsx)(m.a.Item,{wrapperCol:{span:10},labelCol:{span:5},label:"Visibility",name:"visibility",labelAlign:"right",children:Object(f.jsxs)(ue.a,{defaultValue:s.visibility,children:[Object(f.jsx)(ue.a.Option,{value:"private",children:"Private"}),Object(f.jsx)(ue.a.Option,{value:"hidden",children:"Hidden"})]})}),Object(f.jsx)(m.a.Item,{wrapperCol:{span:2},label:"Waiting room",name:"waitingRoomEnabled",children:Object(f.jsx)(je.a,{defaultChecked:s.waitingRoomEnabled})}),Object(f.jsx)(H.a,{}),Object(f.jsxs)("div",{style:{fontSize:"23px",display:"inline-flex",alignItems:"center",justifyContent:"space-between",width:"100%",marginBottom:"10px"},children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{style:{marginRight:"10px"},children:"Special Fields"}),Object(f.jsx)(P.a,{title:"Special Field take extra inputs from user to identify them better. It can only be used when there are 0 users enrolled.",children:Object(f.jsx)(A.b,{})})]}),Object(f.jsx)("div",{children:Object(f.jsx)(p.a,{onClick:function(){var e=Object(oe.a)(v);e.push("New Field"),S(e)},hidden:s.enrolled>0||s.waitingRoomCount>0,children:"Add"})})]}),s.enrolled>0||s.waitingRoomCount>0?Object(f.jsx)("span",{}):Object(f.jsx)("span",{style:{color:"var(--error)"},children:" Note !! Name, email and username are already collected .. "}),0===v.length?Object(f.jsx)("span",{children:"No fields"}):Object(f.jsx)(f.Fragment,{}),v.map((function(e,t){return Object(f.jsx)("div",{style:{margin:"10px"},children:Object(f.jsxs)("div",{style:{display:"inline-flex"},children:[Object(f.jsx)(b.a,{value:e,onChange:function(e){!function(e,t){var n=Object(oe.a)(v);n[t]=e.target.value,S(n)}(e,t)},readOnly:s.enrolled>0||s.waitingRoomCount>0}),Object(f.jsx)(p.a,{onClick:function(){!function(e){var t=v.filter((function(t,n){return e!==n}));S(t)}(t)},danger:!0,style:{marginLeft:"10px"},hidden:s.enrolled>0||s.waitingRoomCount>0,children:"Remove"})]})})})),Object(f.jsx)(H.a,{}),Object(f.jsx)(p.a,{htmlType:"submit",type:"primary",disabled:o,children:o?"Loading ...":"Save and Close"})]})})}var be=n(254),pe=n(214),he=n(711),xe=n(339);function Oe(e){var t=e.getInitialData,n=e.questions,a=e.enrolled,s=Object(O.b)().enqueueSnackbar,i=Object(y.b)(),r=function(){var e=Object(u.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("/delete_question",{questionId:n}).then((function(e){s("Question deleted succesfully!",{variant:"info"}),t()})).catch((function(e){try{if(401===e.response.status)return void i(w());s(e.response.data.detail,{variant:"error"})}catch(t){s("Some error occured while deleting this room",{variant:"error"})}}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(e){return e.isVisible?k()(k()().format()).isAfter(k()(e.endTime))?Object(f.jsx)("div",{className:"myRooms-room-visibility myRooms-private-room",children:"Due Over"}):e.isVisible?Object(f.jsx)("div",{className:"myRooms-room-visibility myRooms-public-room",children:"Visible"}):Object(f.jsx)("div",{className:"myRooms-room-visibility myRooms-hidden-room",children:"Hidden"}):Object(f.jsx)("div",{className:"myRooms-room-visibility myRooms-hidden-room",children:"Hidden"})};return 0===n.length?Object(f.jsx)(ne.a,{title:"No Questions in this room."}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(ae.a,{breakpointCols:{default:5,1900:4,1520:3,1180:2,830:1},className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:n.map((function(e){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"myRooms-cards-box",style:{cursor:"auto"},children:[Object(f.jsx)(he.a,{title:Object(f.jsxs)(f.Fragment,{children:["Are you sure you want to delete this Question?",Object(f.jsx)("br",{}),"Deleting this question will remove all its data and will be lost forever."]}),onConfirm:function(){r(e.questionId)},okText:"Yes",cancelText:"Cancel",overlayInnerStyle:{maxWidth:"400px",backgroundColor:"var(--primaryBackground)",border:"2px solid var(--primaryText)"},children:Object(f.jsx)("div",{style:{position:"absolute",top:"2%",right:"2%",fontSize:"25px",cursor:"pointer"},children:Object(f.jsx)(I.b,{})})}),Object(f.jsx)(P.a,{title:"Type : "+e.type,children:Object(f.jsx)("div",{style:{position:"absolute",top:"2%",left:"2%",fontSize:"25px",cursor:"pointer"},children:"code"===e.type?Object(f.jsx)(I.a,{}):Object(f.jsx)(I.c,{})})}),Object(f.jsx)("div",{className:"myRooms-cards-info",children:Object(f.jsx)("div",{className:"myRooms-cards-title",style:{paddingLeft:"30px",paddingRight:"30px"},children:Object(f.jsx)("span",{children:e.title})})}),Object(f.jsxs)("div",{style:{display:"inline-flex",justifyContent:"space-between",width:"100%",padding:"0px 15px"},children:[Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"myRooms-cards-description",children:[Object(f.jsx)("div",{className:"questions-submitted-div"}),Object(f.jsx)("span",{style:{marginLeft:"10px",display:"inline-flex",minWidth:"120px"},children:"Submitted"}),e.submitted]}),Object(f.jsxs)("div",{className:"myRooms-cards-description",children:[Object(f.jsx)("div",{className:"questions-remaining-div"}),Object(f.jsx)("span",{style:{marginLeft:"10px",display:"inline-flex",minWidth:"120px"},children:"Remaining"}),a-e.submitted]})]}),Object(f.jsx)(xe.PieChart,{style:{width:"70px"},lineWidth:35,paddingAngle:5,data:[{title:"Submitted ("+e.submitted+")",value:e.submitted,color:"var(--success)"},{title:"Not Submitted ("+(a-e.submitted)+")",value:0===a?1:a-e.submitted,color:"var(--error)"}]})]}),Object(f.jsx)("div",{className:"myRooms-card-bottom-bar",style:{margin:"15px 0px"},children:o(e)}),Object(f.jsxs)("div",{children:[Object(f.jsx)(c.b,{className:"myRooms-cards-buttons",to:"/edit_question?qId="+e.questionId,children:"Edit"}),Object(f.jsx)(c.b,{className:"myRooms-cards-buttons",to:"/submissions?qId="+e.questionId,children:"Submissions"})]})]})})}))})})}var fe=n(213),ge=n(712),ve=n(700),ye=n(118),Se=n.n(ye),we=n(218),Re=n(146),Ce=n(126);function Ne(e){var t=e.noOfQuestions,s=e.roomInfo,i=e.setRoomInfo,r=e.enrolledTable,o=e.setEnrolledTable,l=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,s=t.confirm,i=t.clearFilters;return Object(f.jsxs)("div",{style:{padding:8},children:[Object(f.jsx)(b.a,{ref:function(e){},placeholder:"Search ".concat(e),value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return m(a,s,e)},style:{marginBottom:8,display:"block"}}),Object(f.jsxs)(ge.b,{children:[Object(f.jsx)(p.a,{type:"primary",onClick:function(){return m(a,s,e)},icon:Object(f.jsx)(we.a,{}),size:"small",style:{width:90},children:"Search"}),Object(f.jsx)(p.a,{onClick:function(){return h(i)},size:"small",style:{width:90},children:"Reset"}),Object(f.jsx)(p.a,{type:"link",size:"small",onClick:function(){s({closeDropdown:!1}),S(a[0]),N(e)},children:"Filter"})]})]})},filterIcon:function(e){return Object(f.jsx)(we.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return n[e]?n[e].toString().toLowerCase().includes(t.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){},render:function(t){return C===e?Object(f.jsx)(Se.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[y],autoEscape:!0,textToHighlight:t?t.toString():""}):t}}},m=function(e,t,n){t(),S(e[0]),N(n)},h=function(e){e(),S("")},g=Object(a.useState)(""),v=Object(j.a)(g,2),y=v[0],S=v[1],w=Object(a.useState)(""),R=Object(j.a)(w,2),C=R[0],N=R[1],k=Object(a.useState)(!0),I=Object(j.a)(k,2),T=I[0],_=I[1],E=Object(a.useState)(!1),q=Object(j.a)(E,2),L=q[0],D=q[1],F=Object(O.b)().enqueueSnackbar;Object(a.useEffect)(Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/room_enrolled_members/".concat(s.roomId)).then((function(e){o(e.data.members)})).catch((function(e){F("Some Error occurred while getting room members.",{variant:"error"})}));case 2:_(!1);case 3:case"end":return e.stop()}}),e)}))),[]);var z=function(){var e=Object(u.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.next=3,x.a.post("/reject_room_member",{roomId:s.roomId,userId:t}).then((function(e){o(r.filter((function(e){return e.tableId!==n})));var t=Object(le.a)({},s);t.enrolled-=1,i(t)})).catch((function(e){try{F(e.response.data.detail,{variant:"error"})}catch(t){F("Couldn't delete user.",{variant:"error"})}}));case 3:D(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P=[Object(le.a)({title:"Username",dataIndex:"userName",key:"userName"},l("userName")),Object(le.a)({title:"Name",dataIndex:"name",key:"name"},l("name")),Object(le.a)({title:"Email",dataIndex:"email",key:"email"},l("email")),{title:"Submissions ("+t+")",dataIndex:"questionsSubmitted",key:"questionsSubmitted",sorter:function(e,t){return e.questionsSubmitted-t.questionsSubmitted},sortDirections:["descend","ascend"],hidden:0===t,width:"150px"},{title:"SpecialFields",children:s.specialFields.map((function(e,t){return{title:e,key:e,render:function(e){return e.specialFields[t]},sorter:function(e,n){return e.specialFields[t]-n.specialFields[t]},sortDirections:["descend","ascend"]}})),hidden:0===s.specialFields.length},{title:"Remove",key:"delete",width:"100px",render:function(e){return Object(f.jsx)(he.a,{title:Object(f.jsxs)(f.Fragment,{children:["Are you sure you want to remove ",e.name," ?"]}),onConfirm:function(){z(e.userId,e.tableId)},okText:"Yes",cancelText:"Cancel",overlayInnerStyle:{maxWidth:"440px",backgroundColor:"var(--primaryBackground)",border:"2px solid var(--primaryText)"},children:Object(f.jsx)(p.a,{danger:!0,children:"Remove"})})}}].filter((function(e){return!e.hidden}));return T?Object(f.jsxs)("div",{style:{position:"relative",height:"120px",fontSize:"25px"},children:[Object(f.jsx)("span",{style:{marginBottom:"100px"},children:"Loading ..."}),Object(f.jsx)("span",{children:Object(f.jsx)(Re.TransverseLoading,{color:"var(--loadingColor)",size:"large"})})]}):Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{style:{textAlign:"right",marginBottom:"10px"},children:[Object(f.jsx)(c.b,{to:"/all_submissions?roomId="+s.roomId,children:Object(f.jsx)(p.a,{style:{marginRight:"10px"},type:"primary",children:"All Submissions"})}),Object(f.jsx)(p.a,{icon:Object(f.jsx)(Ce.b,{style:{marginRight:"10px"}}),onClick:function(){var e,a=n(292),i=[{label:"Username",value:"userName"},{label:"Email",value:"email"},{label:"Name",value:"name"}];for(e=0;e<s.specialFields.length;e++)i.push({label:s.specialFields[e],value:"special_"+e});i.push({label:"Submissions ("+t+")",value:"questionsSubmitted"});var c,o,l=[],d=Object(fe.a)(r);try{for(d.s();!(o=d.n()).done;){var u=o.value;for(c={userName:u.userName,email:u.email,name:u.name,questionsSubmitted:u.questionsSubmitted},e=0;e<s.specialFields.length;e++)c["special_"+e]=u.specialFields[e];l.push(c)}}catch(j){d.e(j)}finally{d.f()}a([{sheet:"Sheet 1",columns:i,content:l}],{fileName:s.roomName+" Students Data",extraLength:3})},children:"Export to excel"})]}),Object(f.jsx)(ve.a,{loading:L,columns:P,dataSource:r,size:"small",pagination:!1})]})}function ke(e){var t=e.roomInfo,n=e.setRoomInfo,s=e.waitingTable,i=e.setWaitingTable,r=e.enrolledTable,c=e.setEnrolledTable,o=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,s=t.confirm,i=t.clearFilters;return Object(f.jsxs)("div",{style:{padding:8},children:[Object(f.jsx)(b.a,{ref:function(e){},placeholder:"Search ".concat(e),value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return l(a,s,e)},style:{marginBottom:8,display:"block"}}),Object(f.jsxs)(ge.b,{children:[Object(f.jsx)(p.a,{type:"primary",onClick:function(){return l(a,s,e)},icon:Object(f.jsx)(we.a,{}),size:"small",style:{width:90},children:"Search"}),Object(f.jsx)(p.a,{onClick:function(){return m(i)},size:"small",style:{width:90},children:"Reset"}),Object(f.jsx)(p.a,{type:"link",size:"small",onClick:function(){s({closeDropdown:!1}),y(a[0]),C(e)},children:"Filter"})]})]})},filterIcon:function(e){return Object(f.jsx)(we.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return n[e]?n[e].toString().toLowerCase().includes(t.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){},render:function(t){return R===e?Object(f.jsx)(Se.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[v],autoEscape:!0,textToHighlight:t?t.toString():""}):t}}},l=function(e,t,n){t(),y(e[0]),C(n)},m=function(e){e(),y("")},h=Object(a.useState)(""),g=Object(j.a)(h,2),v=g[0],y=g[1],S=Object(a.useState)(""),w=Object(j.a)(S,2),R=w[0],C=w[1],N=Object(a.useState)(!0),k=Object(j.a)(N,2),I=k[0],T=k[1],_=Object(a.useState)(!1),E=Object(j.a)(_,2),q=E[0],L=E[1],D=Object(O.b)().enqueueSnackbar;Object(a.useEffect)(Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/room_waiting_members/".concat(t.roomId)).then((function(e){i(e.data.members),T(!1)})).catch((function(e){D("Some Error occurred while getting room members.",{variant:"error"})}));case 2:case"end":return e.stop()}}),e)}))),[]);var F=function(){var e=Object(u.a)(d.a.mark((function e(a,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,x.a.post("/reject_room_member",{roomId:t.roomId,userId:a}).then((function(e){i(s.filter((function(e){return e.tableId!==r})));var a=Object(le.a)({},t);a.waitingRoomCount-=1,n(a)})).catch((function(e){try{D(e.response.data.detail,{variant:"error"})}catch(t){D("Couldn't delete user.",{variant:"error"})}}));case 3:L(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),z=function(){var e=Object(u.a)(d.a.mark((function e(a,o){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,x.a.post("/accept_room_member",{roomId:t.roomId,userId:a}).then((function(e){c([].concat(Object(oe.a)(r),[s.filter((function(e){return e.tableId===o}))[0]])),i(s.filter((function(e){return e.tableId!==o})));var a=Object(le.a)({},t);a.enrolled+=1,a.waitingRoomCount-=1,n(a)})).catch((function(e){try{D(e.response.data.detail,{variant:"error"})}catch(t){D("Couldn't delete user.",{variant:"error"})}}));case 3:L(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P=[Object(le.a)({title:"Username",dataIndex:"userName",key:"userName"},o("userName")),Object(le.a)({title:"Name",dataIndex:"name",key:"name"},o("name")),Object(le.a)({title:"Email",dataIndex:"email",key:"email"},o("email")),{title:"SpecialFields",children:t.specialFields.map((function(e,t){return{title:e,key:e,render:function(e){return e.specialFields[t]},sorter:function(e,n){return e.specialFields[t]-n.specialFields[t]},sortDirections:["descend","ascend"]}})),hidden:0===t.specialFields.length},{title:"Actions",key:"actions",width:"200px",render:function(e){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(p.a,{onClick:function(){z(e.userId,e.tableId)},style:{marginRight:"15px"},children:"Accept"}),Object(f.jsx)(he.a,{title:Object(f.jsxs)(f.Fragment,{children:["Are you sure you want to remove ",e.name," ?"]}),onConfirm:function(){F(e.userId,e.tableId)},okText:"Yes",cancelText:"Cancel",overlayInnerStyle:{maxWidth:"440px",backgroundColor:"var(--primaryBackground)",border:"2px solid var(--primaryText)"},children:Object(f.jsx)(p.a,{danger:!0,children:"Remove"})})]})}}].filter((function(e){return!e.hidden}));return I?Object(f.jsxs)("div",{style:{position:"relative",height:"120px",fontSize:"25px"},children:[Object(f.jsx)("span",{style:{marginBottom:"100px"},children:"Loading ..."}),Object(f.jsx)("span",{children:Object(f.jsx)(Re.TransverseLoading,{color:"var(--loadingColor)",size:"large"})})]}):Object(f.jsx)("div",{children:Object(f.jsx)(ve.a,{loading:q,columns:P,dataSource:s,size:"small",pagination:!1})})}var Ie=be.a.TabPane;function Te(e){var t=e.getMyRoomsData;document.title="My Room | Code Rooms";var n=Object(a.useState)(!0),s=Object(j.a)(n,2),i=s[0],r=s[1],c=Object(a.useState)("Getting Data ...."),l=Object(j.a)(c,2),m=l[0],b=l[1],p=Object(a.useState)(!1),h=Object(j.a)(p,2),g=h[0],v=h[1],S=Object(a.useState)([]),R=Object(j.a)(S,2),C=R[0],N=R[1],k=Object(a.useState)({}),T=Object(j.a)(k,2),E=T[0],q=T[1],D=Object(a.useState)([]),F=Object(j.a)(D,2),M=F[0],B=F[1],U=Object(a.useState)([]),W=Object(j.a)(U,2),V=W[0],J=W[1],K=Object(o.i)().id,Y=Object(O.b)().enqueueSnackbar,H=Object(y.b)(),Z=Object(o.g)(),X=new URLSearchParams(Object(o.h)().search),ee=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,x.a.get("/my_rooms/"+K).then((function(e){q(e.data.roomInfo),N(e.data.questions)})).catch((function(e){e.response?401===e.response.status?H(w()):(Y(e.response.data.detail,{variant:"error"}),Z.replace("/my_rooms")):Y("Some Error occurred while getting room data.",{variant:"error"})}));case 3:X.has("settingsOpen")&&v(!0),r(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){ee()}),[K]),Object(a.useEffect)((function(){H(L([{name:"My Rooms",url:"/my_rooms"},{name:E.roomName,url:"/my_rooms/"+E.roomId}]))}),[E.roomId]);var te=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b("Setting up new question template ....."),r(!0),e.next=4,x.a.post("/create_question",{roomId:K,type:t}).then((function(e){Z.push("/edit_question?qId="+e.data.newQuestionId)})).catch((function(e){try{if(401===e.response.status)return void H(w());Y(e.response.data.detail,{variant:"error"})}catch(t){Y("Some error occured while creating new question",{variant:"error"})}}));case 4:r(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b("Deleting room ...."),r(!0),e.next=4,x.a.post("/delete_room",{roomId:K}).then((function(){Y("Room deleted succesfully!",{variant:"info"}),t(),Z.replace("/my_rooms")})).catch((function(e){try{if(401===e.response.status)return void H(w());Y(e.response.data.detail,{variant:"error"})}catch(t){Y("Some error occured while deleting this room",{variant:"error"})}}));case 4:r(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i?Object(f.jsxs)("div",{className:"VerifyEmail-heading-div",children:[Object(f.jsx)("div",{children:m}),Object(f.jsx)("div",{style:{marginTop:"40px",position:"relative"},children:Object(f.jsx)(_.a,{size:"large",color:"var(--loadingColor)"})})]}):Object(f.jsxs)("div",{className:"myRooms-outer-div",children:[Object(f.jsxs)("div",{className:"myRooms-header",children:[Object(f.jsx)("span",{style:{borderBottom:"2px solid "},children:E.roomName}),Object(f.jsxs)("div",{style:{display:"inline-flex"},children:[Object(f.jsx)("div",{className:"myRooms-createNew-button",style:{marginLeft:"15px"},onClick:function(){var e=window.location.origin+"/#/join_room?roomId="+E.roomId,t=document.createElement("textarea"),n=document.createTextNode(e);t.appendChild(n),document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t);Y("Link copied to clipboard.",{variant:"success"})},children:Object(f.jsx)(P.a,{title:"Copy joining link",children:Object(f.jsx)(re.a,{})})}),Object(f.jsx)(pe.a,{overlay:Object(f.jsxs)(z.a,{style:{background:"var(--secondaryBackground)"},children:[Object(f.jsx)(z.a.Item,{icon:Object(f.jsx)(I.a,{style:{fontSize:"20px"}}),style:{fontSize:"16px"},onClick:function(){te("code")},children:"Code Type Question"}),Object(f.jsx)($,{}),Object(f.jsx)(z.a.Item,{icon:Object(f.jsx)(I.c,{style:{fontSize:"20px"}}),style:{fontSize:"16px"},onClick:function(){te("file")},children:"File Type Question"})]}),placement:"bottomCenter",children:Object(f.jsxs)("div",{className:"myRooms-createNew-button",style:{marginLeft:"15px"},children:[Object(f.jsx)(Q.a,{}),Object(f.jsx)("span",{style:{marginLeft:"5px"},children:" Create Question "})]})}),Object(f.jsxs)("div",{className:"myRooms-createNew-button",style:{marginLeft:"15px"},onClick:function(){v(!0)},children:[Object(f.jsx)(G.a,{}),Object(f.jsx)("span",{style:{marginLeft:"5px"},children:" Settings "})]}),Object(f.jsx)(he.a,{title:Object(f.jsxs)(f.Fragment,{children:["Are you sure you want to delete this Room?",Object(f.jsx)("br",{}),"Deleting this room will remove all its data and will be lost forever !"]}),onConfirm:ne,okText:"Yes",cancelText:"Cancel",overlayInnerStyle:{maxWidth:"400px",backgroundColor:"var(--primaryBackground)",border:"2px solid var(--primaryText)"},children:Object(f.jsx)("div",{className:"myRooms-createNew-button",style:{marginLeft:"15px"},children:Object(f.jsx)(I.b,{})})}),Object(f.jsx)(me,{settingsVisible:g,setSettingsVisible:v,roomInfo:E,setRoomInfo:q})]})]}),Object(f.jsxs)(be.a,{defaultActiveKey:X.get("tab")||"questions",children:[Object(f.jsx)(Ie,{tab:Object(f.jsxs)("div",{className:"myRooms-cards-description",style:{fontSize:"15px"},children:[Object(f.jsx)(A.f,{}),Object(f.jsx)("span",{style:{margin:"0px 6px",display:"inline-flex"},children:"Questions"}),"(",C.length,")"]}),children:Object(f.jsx)(Oe,{getInitialData:ee,questions:C,enrolled:E.enrolled})},"questions"),Object(f.jsx)(Ie,{tab:Object(f.jsxs)("div",{className:"myRooms-cards-description",style:{fontSize:"15px",padding:"0px",margin:"0px"},children:[Object(f.jsx)(A.g,{}),Object(f.jsx)("span",{style:{margin:"0px 6px",display:"inline-flex"},children:"Members"}),"(",E.enrolled,")"]}),children:Object(f.jsx)(Ne,{noOfQuestions:C.length,roomInfo:E,setRoomInfo:q,enrolledTable:M,setEnrolledTable:B})},"members"),E.waitingRoomEnabled?Object(f.jsx)(Ie,{tab:Object(f.jsxs)("div",{className:"myRooms-cards-description",style:{fontSize:"15px"},children:[Object(f.jsx)(ce.c,{}),Object(f.jsx)("span",{style:{margin:"0px 6px",display:"inline-flex"},children:"Waiting Room"}),"(",E.waitingRoomCount,")"]}),children:Object(f.jsx)(ke,{roomInfo:E,setRoomInfo:q,waitingTable:V,setWaitingTable:J,enrolledTable:M,setEnrolledTable:B})},"waitingRoom"):Object(f.jsx)(f.Fragment,{})]})]})}function _e(){var e=Object(y.c)((function(e){return e.roomsDataReducer}));return 0===e.enrolledRooms.length?Object(f.jsx)(ne.a,{title:"No Rooms enrolled."}):Object(f.jsx)("div",{className:"myRooms-cards-outer",children:Object(f.jsx)(ae.a,{breakpointCols:{default:5,1900:4,1520:3,1180:2,830:1},className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:e.enrolledRooms.map((function(e){return Object(f.jsx)(c.b,{to:"/enrolled_rooms/"+e.roomId,children:Object(f.jsx)("div",{className:"myRooms-cards-box",children:Object(f.jsxs)("div",{className:"myRooms-cards-info",children:[Object(f.jsx)("div",{className:"myRooms-cards-title",children:Object(f.jsx)("span",{children:e.roomName})}),Object(f.jsxs)("div",{className:"myRooms-cards-description",children:[Object(f.jsx)(A.f,{}),Object(f.jsx)("span",{style:{marginLeft:"10px",display:"inline-flex",minWidth:"150px"},children:"Questions"}),e.questions]}),Object(f.jsxs)("div",{className:"myRooms-cards-description",children:[Object(f.jsx)(ce.b,{}),Object(f.jsx)("span",{style:{marginLeft:"10px",display:"inline-flex",minWidth:"150px"},children:"Submitted"}),e.submitted]})]})})},e.roomId)}))})})}function Ee(e){var t=e.getEnrolledRoomsData;document.title="Enrolled Rooms | Code Rooms";var n=Object(y.c)((function(e){return e.roomsDataReducer})),s=Object(y.b)();return Object(a.useEffect)((function(){t(),s(L([{name:"Enrolled Rooms",url:"/enrolled_rooms"}]))}),[]),n.myRoomsLoading?Object(f.jsxs)("div",{className:"VerifyEmail-heading-div",children:[Object(f.jsx)("div",{children:"Getting Your Rooms Data ...."}),Object(f.jsx)("div",{style:{marginTop:"40px",position:"relative"},children:Object(f.jsx)(_.a,{size:"large",color:"var(--loadingColor)"})})]}):Object(f.jsxs)("div",{className:"myRooms-outer-div",children:[Object(f.jsx)("div",{className:"myRooms-header",children:Object(f.jsx)("span",{children:"Enrolled Rooms"})}),Object(f.jsx)(H.a,{}),Object(f.jsx)(_e,{})]})}var qe=n(247),Le=n.n(qe),De=n(148),Fe=function(e,t,n){De.a.event({category:e,action:t,label:n})};function ze(){document.title="Join Room | Code Rooms";var e=Object(a.useState)(!0),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)([]),r=Object(j.a)(i,2),c=r[0],l=r[1],m=Object(a.useState)([]),h=Object(j.a)(m,2),g=h[0],v=h[1],S=new URLSearchParams(Object(o.h)().search),R=Object(O.b)().enqueueSnackbar,C=Object(o.g)(),N=Object(y.b)(),k=function(){if(s(!0),!S.has("roomId"))return R("Invalid Room",{variant:"error"}),void C.replace("/enrolled_rooms");x.a.post("/join_room",{roomId:S.get("roomId"),specialFields:g}).then((function(e){if(e.data.specialFields){l(e.data.specialFields);for(var t=[],n=0;n<e.data.specialFields.length;n++)t.push("");return v(t),void s(!1)}e.data.waitingRoomEnabled?R("You are now in waiting Room for ".concat(e.data.roomName,"."),{variant:"info"}):R("Joined Room - ".concat(e.data.roomName," successfully."),{variant:"success"}),Fe("CodeRooms","Joined Room","Joined room ".concat(S.get("roomId"))),N(q(e.data.enrolledRooms)),C.replace("/enrolled_rooms")})).catch((function(e){try{if(!e.response)return C.replace("/enrolled_rooms"),void R("Some Error occurred while joining room",{variant:"warning"});if(401===e.response.status)return R("Please login first.",{variant:"info"}),void N(w());R(e.response.data.detail,{variant:"warning"}),C.replace("/enrolled_rooms")}catch(t){R("Some Error occurred while joining room",{variant:"warning"}),C.replace("/enrolled_rooms")}})),s(!1)};Object(a.useEffect)(Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k();case 1:case"end":return e.stop()}}),e)}))),[]);return n?Object(f.jsxs)("div",{className:"VerifyEmail-outer-div",children:[Object(f.jsx)("div",{className:"VerifyEmail-heading-div",children:"Joining room ..."}),Object(f.jsx)("div",{style:{marginTop:"20px",position:"relative"},children:Object(f.jsx)(Le.a,{color:"var(--loadingColor)"})})]}):c.length>0?Object(f.jsxs)("div",{className:"VerifyEmail-outer-div",children:[Object(f.jsx)("div",{className:"VerifyEmail-heading-div",children:"Enter details to continue ..."}),Object(f.jsx)("div",{children:c.map((function(e,t){return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{style:{display:"inline-flex",margin:"10px",alignItems:"center"},children:[Object(f.jsxs)("span",{style:{minWidth:"100px"},children:[e," : "]}),Object(f.jsx)(b.a,{value:g[t],onChange:function(e){!function(e,t){var n=Object(oe.a)(g);n[t]=e.target.value,v(n)}(e,t)},required:!0})]})})}))}),Object(f.jsx)(p.a,{htmlType:"submit",type:"primary",onClick:function(){k()},children:"Submit"})]}):Object(f.jsx)(f.Fragment,{})}var Pe=n(703),Ae=n(342),Me=Pe.a.Countdown;function Be(e){var t=e.questions,n=function(e){return e.isSubmitted?Object(f.jsxs)("div",{style:{fontSize:"18px",color:"var(--success)"},children:["At ",k()(e.submissionTime).format("Do MMM hh:mm a")]}):k()(e.endTime).diff(k()().format(),"seconds")<0?Object(f.jsx)("div",{style:{color:"var(--privateRoom)",fontSize:"22px"},children:"Due date over"}):k()(e.endTime).diff(k()().format(),"hours")>48?Object(f.jsxs)("span",{style:{fontSize:"20px",display:"inline-flex",color:"var(--privateRoom)"},children:["Due : ",k()(e.endTime).format("Do MMM")]}):k()(e.endTime).diff(k()().format(),"hours")>24?Object(f.jsx)("span",{style:{fontSize:"20px",display:"inline-flex",color:"var(--privateRoom)"},children:"Due : Tommorow"}):k()(e.endTime).diff(k()().format(),"hours")>10?Object(f.jsx)("span",{style:{fontSize:"20px",display:"inline-flex",color:"var(--privateRoom)"},children:"Due : Today"}):Object(f.jsx)("div",{children:Object(f.jsx)(Me,{valueStyle:{color:"var(--privateRoom)",fontSize:"22px"},value:e.endTime,onFinish:function(){window.location.reload()},format:"[Due] : H[h] : m[m] : s[s]"})})};return 0===t.length?Object(f.jsx)(ne.a,{title:"No Questions in this room.",extra:Object(f.jsx)(p.a,{type:"primary",children:"No Questions in this room."},"console")}):Object(f.jsx)(ae.a,{breakpointCols:{default:5,1900:4,1520:3,1180:2,830:1},className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:t.map((function(e){return Object(f.jsx)(c.b,{to:"/question?qId="+e.questionId,children:Object(f.jsx)("div",{className:"myRooms-cards-box",children:Object(f.jsxs)("div",{className:"myRooms-cards-info",children:[Object(f.jsx)("div",{className:"myRooms-cards-title",children:Object(f.jsx)("span",{children:e.title})}),Object(f.jsx)("div",{className:"myRooms-cards-description",children:"code"===e._type?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(I.a,{}),Object(f.jsx)("span",{style:{marginLeft:"10px",display:"inline-flex"},children:"Code Type"})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(I.c,{}),Object(f.jsx)("span",{style:{marginLeft:"10px",display:"inline-flex"},children:"File Type"})]})}),e.isSubmitted?Object(f.jsxs)("div",{className:"myRooms-cards-description",children:[Object(f.jsx)(Ae.a,{style:{color:"var(--success)"}}),Object(f.jsx)("span",{style:{marginLeft:"10px",display:"inline-flex",color:"var(--success)"},children:"Submitted"})]}):Object(f.jsxs)("div",{className:"myRooms-cards-description",children:[Object(f.jsx)(A.e,{style:{color:"var(--privateRoom)"}}),Object(f.jsx)("span",{style:{marginLeft:"10px",display:"inline-flex",color:"var(--privateRoom)"},children:"Not Submitted"})]}),Object(f.jsx)("div",{className:"myRooms-card-bottom-bar",children:n(e)})]})})},"room.roomId")}))})}function Ue(){document.title="Enrolled Room | Code Rooms";var e=Object(a.useState)(!0),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)("Getting Data ...."),r=Object(j.a)(i,2),c=r[0],l=(r[1],Object(a.useState)([])),m=Object(j.a)(l,2),b=m[0],h=m[1],g=Object(a.useState)([]),v=Object(j.a)(g,2),S=v[0],R=v[1],C=Object(o.i)().id,N=Object(O.b)().enqueueSnackbar,k=Object(y.b)(),I=Object(o.g)(),T=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,x.a.get("/enrolled_rooms/"+C).then((function(e){R(e.data.roomInfo),h(e.data.questions)})).catch((function(e){e.response?401===e.response.status?k(w()):(N(e.response.data.detail,{variant:"error"}),I.replace("/enrolled_rooms")):(N("Some Error occurred while getting room data.",{variant:"error"}),I.replace("/enrolled_rooms"))}));case 3:s(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){T()}),[C]),Object(a.useEffect)((function(){k(L([{name:"Enrolled Rooms",url:"/enrolled_rooms"},{name:S.roomName,url:"/enrolled_rooms/"+S.roomId}]))}),[S.roomId]);var E=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("/leave_room",{roomId:S.roomId}).then((function(){I.replace("/enrolled_rooms")})).catch((function(e){e.response?401===e.response.status?k(w()):(N(e.response.data.detail,{variant:"error"}),I.replace("/enrolled_rooms")):(N("Some Error occurred while leaving room.",{variant:"error"}),I.replace("/enrolled_rooms"))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n?Object(f.jsxs)("div",{className:"VerifyEmail-heading-div",children:[Object(f.jsx)("div",{children:c}),Object(f.jsx)("div",{style:{marginTop:"40px",position:"relative"},children:Object(f.jsx)(_.a,{size:"large",color:"var(--loadingColor)"})})]}):Object(f.jsxs)("div",{className:"myRooms-outer-div",children:[Object(f.jsxs)("div",{className:"myRooms-header",children:[Object(f.jsxs)("span",{children:[Object(f.jsx)("span",{children:S.roomName}),Object(f.jsx)("div",{style:{},children:Object(f.jsxs)("span",{style:{fontSize:"20px"},children:["Host : ",S.host]})})]}),Object(f.jsx)(he.a,{title:Object(f.jsxs)(f.Fragment,{children:["Are you sure you want to leave the room?",Object(f.jsx)("br",{}),"This will delete all the submissions in this room and data will be lost forever."]}),onConfirm:E,okText:"Yes",cancelText:"Cancel",overlayInnerStyle:{maxWidth:"400px",backgroundColor:"var(--primaryBackground)",border:"2px solid var(--primaryText)"},children:Object(f.jsx)(p.a,{danger:!0,type:"primary",children:"Leave Room"})})]}),Object(f.jsx)($,{}),Object(f.jsx)(Be,{questions:b})]})}var We=n(343),Ve=n(152),Qe=n(44),Je=n(56),Ge=n(164),Ke=n(165),Ye=n(103),He=n(170),$e=n(167),Ze=(n(677),n(678),function(e){Object(He.a)(n,e);var t=Object($e.a)(n);function n(e){var a;return Object(Ge.a)(this,n),(a=t.call(this,e)).focus=function(){return a.refs.editor.focus()},a.onChange=function(t){e.setState(t)},a.handleKeyCommand=a._handleKeyCommand.bind(Object(Ye.a)(a)),a.mapKeyToEditorCommand=a._mapKeyToEditorCommand.bind(Object(Ye.a)(a)),a.toggleBlockType=a._toggleBlockType.bind(Object(Ye.a)(a)),a.toggleInlineStyle=a._toggleInlineStyle.bind(Object(Ye.a)(a)),a}return Object(Ke.a)(n,[{key:"_handleKeyCommand",value:function(e,t){var n=Je.RichUtils.handleKeyCommand(t,e);return!!n&&(this.onChange(n),!0)}},{key:"_mapKeyToEditorCommand",value:function(e){if(9!==e.keyCode)return Object(Je.getDefaultKeyBinding)(e);var t=Je.RichUtils.onTab(e,this.props.state,4);t!==this.props.state&&this.onChange(t)}},{key:"_toggleBlockType",value:function(e){this.onChange(Je.RichUtils.toggleBlockType(this.props.state,e))}},{key:"_toggleInlineStyle",value:function(e){this.onChange(Je.RichUtils.toggleInlineStyle(this.props.state,e))}},{key:"render",value:function(){var e=this.props.state,t="RichEditor-editor",n=e.getCurrentContent();return n.hasText()||"unstyled"!==n.getBlockMap().first().getType()&&(t+=" RichEditor-hidePlaceholder"),Object(f.jsxs)("div",{className:"RichEditor-root",style:this.props.readOnly?{padding:"4px",border:"none",width:"95%"}:{},children:[this.props.readOnly?Object(f.jsx)(f.Fragment,{}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{style:{display:"inline-flex"},children:[Object(f.jsx)("span",{style:{marginRight:"30px"},children:Object(f.jsx)(at,{editorState:e,onToggle:this.toggleBlockType})}),Object(f.jsx)(it,{editorState:e,onToggle:this.toggleInlineStyle})]}),Object(f.jsx)(H.a,{style:{margin:"0px"}})]}),Object(f.jsx)("div",{className:t,style:{borderTop:"None"},onClick:this.focus,children:Object(f.jsx)(Je.Editor,{blockStyleFn:et,customStyleMap:Xe,editorState:e,handleKeyCommand:this.handleKeyCommand,keyBindingFn:this.mapKeyToEditorCommand,onChange:this.onChange,placeholder:"Enter Question description",ref:"editor",readOnly:this.props.readOnly,spellCheck:!1})})]})}}]),n}(s.a.Component)),Xe={CODE:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2}};function et(e){return"blockquote"===e.getType()?"RichEditor-blockquote":null}var tt=function(e){Object(He.a)(n,e);var t=Object($e.a)(n);function n(){var e;return Object(Ge.a)(this,n),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.style)},e}return Object(Ke.a)(n,[{key:"render",value:function(){var e="RichEditor-styleButton";return this.props.active&&(e+=" RichEditor-activeButton"),Object(f.jsx)("span",{className:e,onMouseDown:this.onToggle,children:this.props.label})}}]),n}(s.a.Component),nt=[{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"Blockquote",style:"blockquote"},{label:"UL",style:"unordered-list-item"},{label:"Code Block",style:"code-block"}],at=function(e){var t=e.editorState,n=t.getSelection(),a=t.getCurrentContent().getBlockForKey(n.getStartKey()).getType();return Object(f.jsx)("div",{className:"RichEditor-controls",children:nt.map((function(t){return Object(f.jsx)(tt,{active:t.style===a,label:t.label,onToggle:e.onToggle,style:t.style},t.label)}))})},st=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"},{label:"Monospace",style:"CODE"}],it=function(e){var t=e.editorState.getCurrentInlineStyle();return Object(f.jsx)("div",{className:"RichEditor-controls",children:st.map((function(n){return Object(f.jsx)(tt,{active:t.has(n.style),label:n.label,onToggle:e.onToggle,style:n.style},n.label)}))})},rt=Ze;function ct(e){var t=e.title,n=e.setTitle,s=e.description,i=e.setDescription,r=e.sample,c=e.setSample,l=e._type,m=Object(a.useState)(!1),b=Object(j.a)(m,2),h=b[0],g=b[1],v=new URLSearchParams(Object(o.h)().search),S=Object(O.b)().enqueueSnackbar,R=Object(y.b)(),C=Object(o.g)(),N=function(e){var t=Object(le.a)({},r);t[e.target.name]=e.target.value,c(t)},k=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,x.a.post("/save_question_template",{questionId:v.get("qId"),title:t,template:{description:Object(Je.convertToRaw)(s.getCurrentContent()),sample:r}}).then((function(e){S("Saved successfully !",{variant:"success"})})).catch((function(e){try{if(401===e.response.status)return void R(w());S(e.response.data.detail,{variant:"error"}),C.replace("/my_rooms")}catch(t){S("Some error occured while saving !!",{variant:"error"})}}));case 3:g(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("span",{style:{width:"95%",display:"inline-flex",justifyContent:"space-between"},children:[Object(f.jsxs)("span",{style:{fontSize:"20px"},children:["Type : ",l]}),Object(f.jsx)(p.a,{type:"primary",onClick:k,loading:h,children:"Save"})]}),Object(f.jsxs)("div",{className:"outer-scroll-div",children:[Object(f.jsx)("input",{value:t,onChange:function(e){e.target.value.length>30?S("Title cannot be more than 30 characters",{variant:"info"}):n(e.target.value)},className:"question-title"}),Object(f.jsx)("h2",{style:{textAlign:"left",marginLeft:"10px"},children:"Description"}),Object(f.jsx)("span",{style:{padding:"10px"},children:Object(f.jsx)(rt,{state:s,setState:function(e){i(e)},readOnly:!1})}),"code"===l?Object(f.jsxs)("div",{className:"question-sample-case-outer",children:[Object(f.jsx)("h2",{children:"Sample Case"}),Object(f.jsx)("h3",{className:"question-sample-case-title",children:"Sample Input"}),Object(f.jsx)("textarea",{className:"question-sample-case-input",value:r.input,name:"input",onChange:N}),Object(f.jsx)("h3",{className:"question-sample-case-title",children:"Sample Output"}),Object(f.jsx)("textarea",{className:"question-sample-case-input",value:r.output,name:"output",onChange:N}),Object(f.jsx)("h3",{className:"question-sample-case-title",children:"Explanation"}),Object(f.jsx)("textarea",{className:"question-sample-case-input",value:r.explanation,name:"explanation",onChange:N})]}):Object(f.jsx)(f.Fragment,{})]})]})}function ot(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}function lt(){var e=Object(a.useState)(ot()),t=Object(j.a)(e,2),n=t[0],s=t[1];return Object(a.useEffect)((function(){function e(){s(ot())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}function dt(e){var t=e.title,n=e.description,a=e.sample,s=lt(),i=s.height;s.width;return Object(f.jsx)("div",{style:{height:i-70+"px",padding:"10px"},children:Object(f.jsxs)("div",{className:"outer-scroll-div",children:[Object(f.jsx)("div",{className:"question-title",style:{width:"90%",borderBottom:"none",marginBottom:"0px"},children:t}),Object(f.jsx)(rt,{state:n,setState:function(){},readOnly:!0}),Object(f.jsx)("h3",{className:"question-sample-case-title",style:{marginTop:"10px"},hidden:0===a.input.length,children:"Sample Input"}),Object(f.jsx)("div",{className:"question-sample-case-input",style:{whiteSpace:"pre"},hidden:0===a.input.length,children:a.input}),Object(f.jsx)("h3",{className:"question-sample-case-title",hidden:0===a.output.length,children:"Sample Output"}),Object(f.jsx)("div",{className:"question-sample-case-input",style:{whiteSpace:"pre"},hidden:0===a.output.length,children:a.output}),Object(f.jsx)("h3",{className:"question-sample-case-title",hidden:0===a.explanation.length,children:"Explanation"}),Object(f.jsx)("div",{className:"question-sample-case-input",style:{whiteSpace:"pre"},hidden:0===a.explanation.length,children:a.explanation})]})})}function ut(e){var t=e.testCases,n=e.setTestCases,s=Object(a.useState)(!1),i=Object(j.a)(s,2),r=i[0],c=i[1],l=new URLSearchParams(Object(o.h)().search),m=Object(O.b)().enqueueSnackbar,b=Object(y.b)(),h=Object(o.g)(),g=function(e,a,s){var i=Object(oe.a)(t);i[a][s]=e.target.value,n(i)},v=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,x.a.post("/save_question_tcases",{questionId:l.get("qId"),testCases:t}).then((function(e){m("Saved successfully !",{variant:"success"})})).catch((function(e){try{if(401===e.response.status)return void b(w());m(e.response.data.detail,{variant:"error"}),h.replace("/my_rooms")}catch(t){m("Some error occured while saving !!",{variant:"error"})}}));case 3:c(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("span",{style:{width:"95%",display:"inline-flex",justifyContent:"space-between",marginBottom:"30px"},children:[Object(f.jsx)("span",{}),Object(f.jsxs)("span",{children:[Object(f.jsx)(p.a,{onClick:function(){t.length>=5?m("Can add upto only 5 cases !",{variant:"info"}):n([].concat(Object(oe.a)(t),[{input:"",output:""}]))},disabled:r,children:"Add"}),Object(f.jsx)(p.a,{style:{marginLeft:"10px"},type:"primary",onClick:v,loading:r,children:"Save"})]})]}),Object(f.jsx)("div",{className:"outer-scroll-div",style:{paddingBottom:"250px"},children:t.map((function(e,a){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("span",{style:{width:"95%",display:"inline-flex",justifyContent:"space-between",margin:"20px 0px 0px 0px"},children:[Object(f.jsxs)("span",{children:["Case #",a+1]}),Object(f.jsx)("span",{children:Object(f.jsx)(p.a,{onClick:function(){var e;e=a,n(t.filter((function(t,n){return n!==e})))},danger:!0,disabled:r,children:"Remove"})})]}),Object(f.jsxs)("div",{style:{width:"100%",display:"inline-flex"},children:[Object(f.jsx)("textarea",{placeholder:"Case Input",className:"question-sample-case-input",style:{width:"100%",margin:"5px"},value:e.input,onChange:function(e){g(e,a,"input")}}),Object(f.jsx)("textarea",{placeholder:"Expected Output",className:"question-sample-case-input",style:{width:"100%",margin:"5px"},value:e.output,onChange:function(e){g(e,a,"output")}})]})]})}))})]})}var jt=n(253),mt=n(699);function bt(e){var t=e.questionSettings,n=e.setQuestionSettings,s=Object(a.useState)(k()(t.endTime)),i=Object(j.a)(s,2),r=i[0],c=i[1],l=Object(a.useState)(!1),m=Object(j.a)(l,2),b=m[0],h=m[1],g=new URLSearchParams(Object(o.h)().search),v=Object(O.b)().enqueueSnackbar,S=Object(y.b)(),R=Object(o.g)(),C=function(e){c(e)},N=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,x.a.post("/save_question_settings",{questionId:g.get("qId"),endTime:k()(r).format("YYYY-MM-DD HH:mm:ss"),isVisible:t.isVisible}).then((function(e){v("Saved successfully !",{variant:"success"})})).catch((function(e){try{if(401===e.response.status)return void S(w());v(e.response.data.detail,{variant:"error"}),R.replace("/my_rooms")}catch(t){v("Some error occured while saving !!",{variant:"error"})}}));case 3:h(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{style:{width:"100%",fontSize:"20px",textAlign:"left",marginLeft:"20px"},children:[Object(f.jsx)("span",{style:{display:"inline-flex",marginRight:"20px",minWidth:"150px"},children:"End Time"}),Object(f.jsx)(jt.a,{disabledDate:function(e){return e&&e<k()(k()().format())},allowClear:!1,value:r,onChange:C}),Object(f.jsx)(mt.a,{allowClear:!1,value:r,onChange:C})]}),Object(f.jsxs)("div",{style:{width:"100%",fontSize:"20px",textAlign:"left",marginLeft:"20px"},children:[Object(f.jsx)("span",{style:{display:"inline-flex",marginRight:"20px",minWidth:"150px"},children:"Is Visible"}),Object(f.jsx)(je.a,{onChange:function(e){n(Object(le.a)(Object(le.a)({},t),{},{isVisible:!t.isVisible}))},checked:t.isVisible})]}),Object(f.jsx)("div",{style:{width:"100%",fontSize:"20px",marginTop:"20px"},children:Object(f.jsx)(p.a,{type:"primary",onClick:N,loading:b,children:"Save"})})]})}var pt=be.a.TabPane;function ht(){document.title="Edit Question | Code Rooms";var e=Object(a.useState)(!0),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)("Title"),r=Object(j.a)(i,2),c=r[0],l=r[1],m=Object(a.useState)({}),b=Object(j.a)(m,2),p=b[0],h=b[1],g=Object(a.useState)({}),v=Object(j.a)(g,2),S=v[0],R=v[1],C=Object(a.useState)([]),N=Object(j.a)(C,2),I=N[0],T=N[1],E=Object(a.useState)({}),q=Object(j.a)(E,2),D=q[0],F=q[1],z=Object(a.useState)({}),P=Object(j.a)(z,2),A=P[0],B=P[1],U=new URLSearchParams(Object(o.h)().search),W=Object(O.b)().enqueueSnackbar,V=Object(y.b)(),Q=Object(o.g)();return Object(a.useEffect)(Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),U.has("qId")||(W("Invalid question.",{variant:"warning"}),Q.replace("/my_rooms")),e.next=4,x.a.get("/get_question_details",{params:{questionId:U.get("qId")}}).then((function(e){l(e.data.questionDetails.title),h(Je.EditorState.createWithContent(Object(Je.convertFromRaw)(e.data.questionDetails.template.description))),R(e.data.questionDetails.template.sample),T(e.data.questionDetails.testCases||[]),F({_type:e.data.questionDetails._type,endTime:e.data.questionDetails.endTime?e.data.questionDetails.endTime:k()(k()().format()).add(7,"days").endOf("day").format(),isVisible:e.data.questionDetails.isVisible}),B({roomId:e.data.questionDetails.roomId,roomName:e.data.questionDetails.roomName})})).catch((function(e){try{if(401===e.response.status)return void V(w());W(e.response.data.detail,{variant:"error"}),Q.replace("/my_rooms")}catch(t){W("Some error occured while creating new question",{variant:"error"}),Q.replace("/my_rooms")}}));case 4:s(!1);case 5:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)((function(){V(L([{name:"My Rooms",url:"/my_rooms"},{name:A.roomName,url:"/my_rooms/"+A.roomId},{name:"Edit Question",url:"/question?qId=/"+U.get("qId")}]))}),[A.roomId]),n?Object(f.jsxs)("div",{className:"VerifyEmail-heading-div",children:[Object(f.jsx)("div",{children:"Getting Question Data ...."}),Object(f.jsx)("div",{style:{marginTop:"40px",position:"relative"},children:Object(f.jsx)(_.a,{size:"large",color:"var(--loadingColor)"})})]}):Object(f.jsx)("div",{children:Object(f.jsxs)(Qe.b,{style:{position:"absolute"},minSize:350,maxSize:620,defaultSize:400,split:"vertical",children:[Object(f.jsx)(Qe.a,{className:"shlokOP",children:Object(f.jsx)(dt,{title:c,description:p,sample:S})}),Object(f.jsx)("div",{children:Object(f.jsxs)(be.a,{defaultActiveKey:U.get("tab")||"edit",children:[Object(f.jsx)(pt,{tab:Object(f.jsxs)("div",{className:"myRooms-cards-description",style:{fontSize:"15px"},children:[Object(f.jsx)(We.a,{}),Object(f.jsx)("span",{style:{margin:"0px 6px",display:"inline-flex"},children:"Edit Question"})]}),children:Object(f.jsx)(ct,{title:c,setTitle:l,description:p,setDescription:h,sample:S,setSample:R,_type:D._type})},"edit"),"code"===D._type?Object(f.jsx)(pt,{tab:Object(f.jsxs)("div",{className:"myRooms-cards-description",style:{fontSize:"15px",padding:"0px",margin:"0px"},children:[Object(f.jsx)(M.a,{}),Object(f.jsx)("span",{style:{margin:"0px 6px",display:"inline-flex"},children:"Test cases"})]}),children:Object(f.jsx)(ut,{testCases:I,setTestCases:T})},"cases"):Object(f.jsx)(f.Fragment,{}),Object(f.jsx)(pt,{tab:Object(f.jsxs)("div",{className:"myRooms-cards-description",style:{fontSize:"15px"},children:[Object(f.jsx)(Ve.a,{}),Object(f.jsx)("span",{style:{margin:"0px 6px",display:"inline-flex"},children:"Settings"})]}),children:Object(f.jsx)(bt,{questionSettings:D,setQuestionSettings:F})},"settings")]})})]})})}var xt=n(119),Ot=n(722),ft=n(723),gt=ue.a.Option;function vt(e){var t=e.savedCodes,n=e.setSavedCodes,s=e.selectedCode,i=e.setSelectedCode,r=e.loading,c=e.setLoading,o=e.getEditorCode,l=e.input,m=e.setOutput,h=Object(O.b)().enqueueSnackbar,g=Object(a.useState)(!1),v=Object(j.a)(g,2),y=v[0],S=v[1],w=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fe("CodeRooms","Run Code",""),c(!0),m(""),e.next=5,x.a.post("/run_code",{code:o(),language:s.language,input:l}).then((function(e){m(JSON.parse(e.data).output)})).catch((function(e){h("Error while running!",{variant:"error"})}));case 5:c(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(u.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(!0),(a=t.filter((function(e){return e.id!==s.id}))).push({id:s.id,name:s.name,code:o(),language:s.language}),n(a),S(!1),setTimeout((function(){c(!1),h("Code saved !",{variant:"success"})}),500);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"code-editor-nav",children:[Object(f.jsxs)(de.a,{title:"Save Code to local device",visible:y,onCancel:function(){S(!1)},onOk:R,children:["Name \xa0\xa0 :  \xa0\xa0\xa0\xa0",Object(f.jsx)(b.a,{value:s.name,onChange:function(e){var t=Object(le.a)({},s);t.name=e.target.value,i(t)},style:{width:"200px"}})]}),Object(f.jsxs)("span",{children:[Object(f.jsxs)(p.a,{style:{color:"var(--primaryText)",backgroundColor:"none",width:"auto"},onClick:w,disabled:r,children:[Object(f.jsx)(Ot.a,{}),"Run"]}),Object(f.jsxs)(p.a,{style:{color:"var(--primaryText)",backgroundColor:"none",width:"auto"},onClick:function(){S(!0)},children:[Object(f.jsx)(ft.a,{}),"Save"]})]}),Object(f.jsxs)("span",{children:[Object(f.jsx)("span",{style:{color:"#fff",marginRight:"10px"},children:"Language :"}),Object(f.jsxs)(ue.a,{value:s.language,style:{width:120},onChange:function(e){var t=Object(le.a)({},s);t.language=e,i(t)},children:[Object(f.jsx)(gt,{value:"cpp",children:"CPP"}),Object(f.jsx)(gt,{value:"c",children:"C"}),Object(f.jsx)(gt,{value:"java",children:"Java"}),Object(f.jsx)(gt,{value:"python",children:"Python"})]})]})]})}var yt=n(724);function St(e){var t=e.savedCodes,n=e.setSavedCodes,a=e.setSelectedCode,s=e.setLoading,i=e.setOutput,r=e.setInput,c=function(){s(!0),r(""),i(""),a({id:Math.floor(1e5*Math.random()),name:"",code:"// code goes here",language:"cpp"}),setTimeout((function(){s(!1)}),500)};return 0===t.length?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"playground-code-title",children:"No Codes Saved !"}),Object(f.jsx)(p.a,{type:"primary",style:{margin:"20px 0px",fontSize:"20px",height:"100%"},icon:Object(f.jsx)(yt.a,{}),onClick:c,children:"New"})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"playground-code-title",children:"Saved Codes ..."}),Object(f.jsx)(p.a,{type:"primary",style:{margin:"20px 0px",fontSize:"20px",height:"100%"},icon:Object(f.jsx)(yt.a,{}),onClick:c,children:"New"}),Object(f.jsx)("div",{className:"outer-scroll-div",style:{height:"600px"},children:t.map((function(e,c){return Object(f.jsx)("div",{className:"playground-saved-codes",children:Object(f.jsxs)("div",{className:"playground-saved-codes-inner",children:[Object(f.jsx)("span",{style:{alignItems:"center",marginRight:"8px"},children:e.name}),Object(f.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[Object(f.jsx)("span",{style:{display:"inline-flex",alignItems:"center"},onClick:function(){!function(e){s(!0),r(""),i(""),a(t[e]),setTimeout((function(){s(!1)}),500)}(c)},children:Object(f.jsx)(P.a,{title:"Load saved code to editor",children:Object(f.jsx)(A.a,{style:{fontSize:"25px",marginRight:"8px"}})})}),Object(f.jsx)("span",{style:{display:"inline-flex",alignItems:"center"},onClick:function(){!function(e){s(!0),n(Object(oe.a)(t.filter((function(t,n){return n!==e})))),setTimeout((function(){s(!1)}),500)}(c)},children:Object(f.jsx)(P.a,{title:"Delete saved code",children:Object(f.jsx)(ce.a,{style:{fontSize:"25px"}})})})]})]})})}))})]})}function wt(e){var t=e.savedCodes,n=e.setSavedCodes,s=e.selectedCode,i=e.setSelectedCode,r=Object(a.useRef)(null),c=Object(a.useState)(!1),o=Object(j.a)(c,2),l=o[0],d=o[1],u=Object(a.useState)(""),m=Object(j.a)(u,2),b=m[0],p=m[1],h=Object(a.useState)(""),x=Object(j.a)(h,2),O=x[0],g=x[1];var v=lt(),y=v.height;v.width;return Object(f.jsxs)("div",{className:"questionEverything-outer-div",children:[Object(f.jsx)(de.a,{centered:!0,visible:l,footer:null,bodyStyle:{padding:"0px"},closable:!1,children:Object(f.jsx)(_.a,{size:"large",color:"var(--loadingColor)"})}),Object(f.jsxs)(Qe.b,{style:{position:"absolute"},minSize:330,maxSize:620,defaultSize:400,split:"vertical",children:[Object(f.jsx)(Qe.a,{children:Object(f.jsx)(St,{savedCodes:t,setSavedCodes:n,setSelectedCode:i,setLoading:d,setOutput:g,setInput:p})}),Object(f.jsxs)(Qe.b,{minSize:y-65-270,maxSize:y-75,defaultSize:y-65-170,split:"horizontal",children:[Object(f.jsxs)(Qe.a,{style:{height:"100%",width:"100%"},children:[Object(f.jsx)(vt,{savedCodes:t,setSavedCodes:n,selectedCode:s,setSelectedCode:i,loading:l,setLoading:d,getEditorCode:function(){return r.current.getValue()},input:b,setOutput:g}),Object(f.jsx)(xt.a,{theme:"vs-dark",language:s.language,value:s.code,onMount:function(e,t){r.current=e},width:"100%"})]}),Object(f.jsx)(Qe.a,{style:{height:"100%",width:"100%"},children:Object(f.jsxs)("div",{style:{display:"inline-flex",width:"100%",height:"100%"},children:[Object(f.jsxs)("div",{style:{width:"100%",background:"var(--primaryBackground)",padding:"6px",borderRight:"2px solid var(--primaryText)"},children:[Object(f.jsx)("div",{className:"code-editor-input-title",children:"Input"}),Object(f.jsx)("textarea",{value:b,onChange:function(e){p(e.target.value),g("")},className:"code-editor-input-textarea"})]}),Object(f.jsxs)("div",{style:{width:"100%",background:"var(--primaryBackground)",padding:"6px"},children:[Object(f.jsx)("div",{className:"code-editor-input-title",children:"Output "}),Object(f.jsx)("div",{style:{whiteSpace:"pre",textAlign:"left",fontSize:"17px"},className:"outer-scroll-div",children:O})]})]})})]})]})]})}function Rt(){document.title="Code Playground | Code Rooms";var e=Object(a.useState)(localStorage.savedPlaygroundCodes?JSON.parse(localStorage.getItem("savedPlaygroundCodes")):[]),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)({id:Math.floor(1e5*Math.random()),name:"",code:"",language:"cpp"}),r=Object(j.a)(i,2),c=r[0],o=r[1],l=Object(y.b)();return Object(a.useEffect)((function(){l(L([{name:"Code Playground",url:"/code"}])),localStorage.setItem("savedPlaygroundCodes",JSON.stringify(n))}),[n]),Object(f.jsx)(wt,{savedCodes:n,setSavedCodes:s,selectedCode:c,setSelectedCode:o})}var Ct=n(725),Nt=ue.a.Option;function kt(e){var t=e.questionDetails,n=e.setQuestionDetails,a=e.loading,s=e.setLoading,i=e.getEditorCode,r=e.input,c=e.setOutput,l=new URLSearchParams(Object(o.h)().search),j=Object(O.b)().enqueueSnackbar,m=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fe("CodeRooms","Run Code",""),s(!0),c(""),e.next=5,x.a.post("/run_code",{code:i(),language:t.language,input:r}).then((function(e){c(JSON.parse(e.data).output)})).catch((function(e){j("Some issue while run.",{variant:"error"})}));case 5:s(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fe("CodeRooms","Save Code",""),s(!0),e.next=4,x.a.post("/save_question_code",{questionId:l.get("qId"),code:i(),language:t.language}).then((function(e){j("Saved successfully.",{variant:"success"})})).catch((function(e){j("Some issue while saving.",{variant:"error"})}));case 4:s(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fe("CodeRooms","Submit Code",""),s(!0),e.next=4,x.a.post("/submit_question_code",{questionId:l.get("qId"),code:i(),language:t.language}).then((function(e){0===e.data.noOfCases?j("Submitted successfully.",{variant:"success"}):e.data.casesPassed===e.data.noOfCases?j("Submitted successfully. "+e.data.casesPassed+" out of "+e.data.noOfCases+" cases passes",{variant:"success"}):j("Submitted successfully. "+e.data.casesPassed+" out of "+e.data.noOfCases+" cases passes",{variant:"warning"}),n(Object(le.a)(Object(le.a)({},t),{},{submitted:!0,submittedAt:k()().format()}))})).catch((function(e){j("Some issue while submitting.",{variant:"error"})}));case 4:s(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"code-editor-nav",children:[Object(f.jsxs)("span",{children:[Object(f.jsxs)(p.a,{style:{color:"var(--primaryText)",backgroundColor:"none",width:"auto"},onClick:m,disabled:a,children:[Object(f.jsx)(Ot.a,{}),"Run"]}),Object(f.jsxs)(p.a,{style:{color:"var(--primaryText)",backgroundColor:"none",width:"auto"},onClick:b,children:[Object(f.jsx)(ft.a,{}),"Save"]}),k()(t.endTime).isAfter(k()().format())?Object(f.jsxs)(p.a,{style:{color:"var(--primaryText)",backgroundColor:"none",width:"auto"},onClick:h,children:[Object(f.jsx)(Ct.a,{}),"Submit"]}):Object(f.jsx)(f.Fragment,{})]}),Object(f.jsxs)("span",{children:[Object(f.jsx)("span",{style:{color:"#fff",margin:"0px 10px 0px 10px"},children:"Language :"}),Object(f.jsxs)(ue.a,{value:t.language,style:{width:120},onChange:function(e){var a=Object(le.a)({},t);a.language=e,n(a)},children:[Object(f.jsx)(Nt,{value:"cpp",children:"CPP"}),Object(f.jsx)(Nt,{value:"c",children:"C"}),Object(f.jsx)(Nt,{value:"java",children:"Java"}),Object(f.jsx)(Nt,{value:"python",children:"Python"})]})]})]})}function It(e){var t=e.overlayLoading,n=e.setOverlayLoading,s=e.questionDetails,i=e.setQuestionDetails,r=Object(a.useRef)(null),c=Object(a.useState)(""),o=Object(j.a)(c,2),l=o[0],d=o[1],u=Object(a.useState)(""),m=Object(j.a)(u,2),b=m[0],p=m[1];var h=lt(),x=h.height;h.width;return Object(f.jsxs)(Qe.b,{minSize:x-65-270,maxSize:x-75,defaultSize:x-65-170,split:"horizontal",children:[Object(f.jsxs)(Qe.a,{style:{height:"100%",width:"100%"},children:[Object(f.jsx)(kt,{questionDetails:s,setQuestionDetails:i,loading:t,setLoading:n,getEditorCode:function(){return r.current.getValue()},input:l,setOutput:p}),Object(f.jsx)(xt.a,{theme:"vs-dark",language:s.language,defaultValue:s.savedCode,onMount:function(e,t){r.current=e}})]}),Object(f.jsx)(Qe.a,{style:{height:"100%",widht:"100%"},children:Object(f.jsxs)("div",{style:{display:"inline-flex",width:"100%",height:"100%"},children:[Object(f.jsxs)("div",{style:{width:"100%",background:"var(--primaryBackground)",padding:"6px",borderRight:"2px solid var(--primaryText)"},children:[Object(f.jsx)("div",{className:"code-editor-input-title",children:"Input"}),Object(f.jsx)("textarea",{value:l,onChange:function(e){d(e.target.value),p("")},className:"code-editor-input-textarea"})]}),Object(f.jsxs)("div",{style:{width:"100%",background:"var(--primaryBackground)",padding:"6px"},children:[Object(f.jsx)("div",{className:"code-editor-input-title",children:"Output "}),Object(f.jsx)("div",{style:{whiteSpace:"pre",textAlign:"left",fontSize:"17px"},className:"outer-scroll-div",children:b})]})]})})]})}var Tt=n(726),_t=n(701),Et=n(134),qt=n.n(Et),Lt="https://api.smart-iam.com/api/coderooms";function Dt(e){var t=e.setOverlayLoading,n=e.questionDetails,s=e.setQuestionDetails,i=Object(a.useState)(""),r=Object(j.a)(i,2),c=r[0],l=r[1],m=Object(a.useState)(null),b=Object(j.a)(m,2),h=b[0],g=b[1],v=new URLSearchParams(Object(o.h)().search),y=Object(O.b)().enqueueSnackbar;Object(a.useEffect)((function(){n.submitted||y("File should be .pdf type and file size should not exceed 7MB",{variant:"warning"})}),[n.submitted]);var S=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fe("CodeRooms","Delete File Submission",""),t(!0),e.next=4,x.a.post("/delete_submitted_file",{questionId:v.get("qId"),submissionId:n.submissionId}).then((function(e){s(Object(le.a)(Object(le.a)({},n),{},{submitted:!1})),g(null),l(""),y("Deleted Submission!",{variant:"info"})})).catch((function(e){y("Some error occurred while deleting !",{variant:"error"})}));case 4:t(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(d.a.mark((function e(){var a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Fe("CodeRooms","Submit File",""),t(!0),(a=new FormData).append("file",h),null===a){e.next=8;break}return i={headers:{"content-type":"multipart/form-data"}},e.next=8,x.a.post("/submit_question_file/"+v.get("qId"),a,i).then((function(e){s(Object(le.a)(Object(le.a)({},n),{},{submitted:!0,submittedAt:k()().format(),submissionId:e.data.submissionId})),y("File submitted successfully !",{variant:"success"})})).catch((function(e){try{y(e.response.data.detail,{variant:"error"})}catch(t){y("Some issue while submitting.",{variant:"error"})}}));case 8:t(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.submitted?Object(f.jsxs)(f.Fragment,{children:[k()(n.endTime).isAfter(k()().format())?Object(f.jsx)(he.a,{title:Object(f.jsxs)(f.Fragment,{children:["Are you sure you want to submit again?",Object(f.jsx)("br",{}),"This will delete your previous submission."]}),onConfirm:S,okText:"Yes",cancelText:"Cancel",overlayInnerStyle:{maxWidth:"400px",backgroundColor:"var(--primaryBackground)",border:"2px solid var(--primaryText)"},children:Object(f.jsx)(p.a,{style:{marginTop:"10px"},type:"primary",danger:!0,children:"Change Submission"})}):Object(f.jsx)(f.Fragment,{}),Object(f.jsx)(p.a,{onClick:function(){fetch("".concat(Lt,"/get_submitted_file?questionId=").concat(v.get("qId"),"&submissionId=").concat(n.submissionId,"&token=").concat(localStorage.getItem("JWTtoken"))).then((function(e){e.blob().then((function(e){var t=window.URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="Submission.pdf",n.click()}))}))},style:{marginTop:"10px",marginLeft:"10px"},type:"primary",children:"Download PDF"}),Object(f.jsx)(qt.a,{fileType:"pdf",filePath:"".concat(Lt,"/get_submitted_file?questionId=").concat(v.get("qId"),"&submissionId=").concat(n.submissionId,"&token=").concat(localStorage.getItem("JWTtoken"))})]}):k()(n.endTime).isAfter(k()().format())?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{style:{height:"auto",display:"flex",alignItems:"center",justifyContent:"space-between",margin:"10px 0px 30px 0px"},children:[Object(f.jsx)(_t.a,{listType:"picture",beforeUpload:function(e){try{return l(URL.createObjectURL(e)),g(e),!1}catch(t){return g(null),l(""),!1}},maxCount:1,multiple:!1,type:"file",accept:"application/pdf",onChange:function(e){if(0===e.fileList.length)return g(null),void l("");try{l(URL.createObjectURL(e.file)),g(e.file)}catch(t){return g(null),void l("")}},className:"upload-list-inline",children:Object(f.jsx)(p.a,{icon:Object(f.jsx)(Tt.a,{}),style:{height:"66px"},children:"Upload"})}),Object(f.jsx)(p.a,{onClick:w,type:"primary",style:{margin:"0px 30px 0px 0px",height:"66px"},disabled:null===h,children:"Submit"})]}),null!==h?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(qt.a,{controls:!0,fileType:"pdf",filePath:c},c)}):Object(f.jsx)(f.Fragment,{})]}):Object(f.jsx)("div",{className:"playground-code-title",style:{color:"var(--privateRoom)"},children:"Due Date Over"})}function Ft(){document.title="Question | Code Rooms";var e=Object(a.useState)(!0),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(!1),r=Object(j.a)(i,2),c=r[0],l=r[1],m=Object(a.useState)({}),b=Object(j.a)(m,2),p=b[0],h=b[1],g=Object(a.useState)({}),v=Object(j.a)(g,2),S=v[0],R=v[1],N=new URLSearchParams(Object(o.h)().search),I=Object(O.b)().enqueueSnackbar,T=Object(y.b)(),E=Object(o.g)();Object(a.useEffect)(Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),N.has("qId")||(I("Invalid question.",{variant:"warning"}),E.replace("/enrolled_rooms")),e.next=4,x.a.get("/question_for_member",{params:{questionId:N.get("qId")}}).then((function(e){h({_type:e.data.details._type,title:e.data.details.title,description:Je.EditorState.createWithContent(Object(Je.convertFromRaw)(e.data.details.template.description)),sample:e.data.details.template.sample,endTime:e.data.details.endTime,savedCode:e.data.details.savedCode,language:e.data.details.language||"cpp",submitted:e.data.details.submitted,submittedAt:e.data.details.submittedAt,submissionId:e.data.details.submissionId}),R({roomId:e.data.details.roomId,roomName:e.data.details.roomName})})).catch((function(e){try{if(401===e.response.status)return void T(w());I(e.response.data.detail,{variant:"error"}),E.replace("/enrolled_rooms")}catch(t){I("Some error occured while getting question details.",{variant:"error"}),E.replace("/enrolled_rooms")}}));case 4:s(!1);case 5:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)(Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T(L([{name:"Enrolled Rooms",url:"/enrolled_rooms"},{name:S.roomName,url:"/enrolled_rooms/"+S.roomId},{name:p.title,url:"/question?qId=/"+N.get("qId")}]));case 1:case"end":return e.stop()}}),e)}))),[S.roomId]);return n?Object(f.jsxs)("div",{className:"VerifyEmail-heading-div",children:[Object(f.jsx)("div",{children:"Loading Question ...."}),Object(f.jsx)("div",{style:{marginTop:"40px",position:"relative"},children:Object(f.jsx)(_.a,{size:"large",color:"var(--loadingColor)"})})]}):Object(f.jsxs)("div",{children:[Object(f.jsx)(de.a,{centered:!0,visible:c,footer:null,bodyStyle:{padding:"0px"},closable:!1,children:Object(f.jsx)(_.a,{size:"large",color:"var(--loadingColor)"})}),Object(f.jsxs)(Qe.b,{style:{position:"absolute"},minSize:300,maxSize:620,defaultSize:400,split:"vertical",children:[Object(f.jsxs)(Qe.a,{children:[Object(f.jsxs)("div",{style:{padding:"15px",borderBottom:"2px solid #fff"},children:[Object(f.jsxs)("div",{className:"myRooms-cards-description",style:{fontSize:"15px",color:k()(p.endTime).diff(k()().format(),"seconds")<0?"red":"#fff"},children:[Object(f.jsx)("span",{style:{display:"inline-flex",minWidth:"170px"},children:"End Time"}),k()(p.endTime).diff(k()().format(),"hours")>10||k()(p.endTime).diff(k()().format(),"seconds")<0?k()(p.endTime).format("Do MMM hh:mm a"):Object(f.jsx)(C.a,{valueStyle:{fontSize:"15px",color:"var(--privateRoom)"},value:p.endTime,onFinish:function(){window.location.reload()},format:"H[h] : m[m] : s[s]"})]}),p.submitted?Object(f.jsxs)("div",{className:"myRooms-cards-description",style:{fontSize:"15px"},children:[Object(f.jsx)("span",{style:{display:"inline-flex",minWidth:"170px"},children:"Submitted At"}),k()(p.submittedAt).format("Do MMM hh:mm a")]}):Object(f.jsx)(f.Fragment,{})]}),Object(f.jsx)(dt,{title:p.title,description:p.description,sample:p.sample})]}),"code"===p._type?Object(f.jsx)(It,{overlayLoading:c,setOverlayLoading:l,questionDetails:p,setQuestionDetails:h}):Object(f.jsx)(Dt,{setOverlayLoading:l,questionDetails:p,setQuestionDetails:h})]})]})}var zt=ue.a.Option;function Pt(e){var t=e.setOverlayLoading,n=e.selected,s=e.setSelected,i=Object(a.useState)(n.language||"cpp"),r=Object(j.a)(i,2),c=r[0],o=r[1],l=Object(a.useState)(""),m=Object(j.a)(l,2),b=m[0],h=m[1],g=Object(a.useState)(""),v=Object(j.a)(g,2),y=v[0],S=v[1],w=Object(a.useRef)(null),R=lt(),C=R.height,N=(R.width,Object(O.b)().enqueueSnackbar),k=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,x.a.get("/get_submitted_code",{params:{submissionId:n.submissionId}}).then((function(e){var t=Object(le.a)({},n);t.code=e.data.data.code,t.language=e.data.data.language,o(e.data.data.language),s(t)})).catch((function(e){N("Some error occured while getting submission",{variant:"error"})}));case 3:t(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){n.submissionId&&k()}),[n.submissionId]);var I=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fe("CodeRooms","Run Code",""),t(!0),S(""),e.next=5,x.a.post("/run_code",{code:w.current.getValue(),language:c,input:b}).then((function(e){S(JSON.parse(e.data).output)})).catch((function(e){N("Some error occured while run.",{variant:"error"})}));case 5:t(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(Qe.b,{minSize:C-65-270,maxSize:C-75,defaultSize:C-65-170,split:"horizontal",children:[Object(f.jsxs)(Qe.a,{style:{height:"100%",width:"100%"},children:[Object(f.jsxs)("div",{className:"code-editor-nav",children:[Object(f.jsx)("span",{children:Object(f.jsxs)(p.a,{style:{color:"var(--primaryText)",backgroundColor:"none",width:"auto"},onClick:I,children:[Object(f.jsx)(Ot.a,{}),"Run"]})}),Object(f.jsxs)("span",{children:[Object(f.jsx)("span",{style:{color:"#fff",marginRight:"10px"},children:"Language :"}),Object(f.jsxs)(ue.a,{value:c,style:{width:120},onChange:function(e){o(e)},children:[Object(f.jsx)(zt,{value:"cpp",children:"CPP"}),Object(f.jsx)(zt,{value:"c",children:"C"}),Object(f.jsx)(zt,{value:"java",children:"Java"}),Object(f.jsx)(zt,{value:"python",children:"Python"})]})]})]}),Object(f.jsx)(xt.a,{options:{readOnly:!0},value:n.code||"",theme:"vs-dark",readOnly:!0,language:c,onMount:function(e,t){w.current=e}},n.submissionId)]}),Object(f.jsx)(Qe.a,{style:{height:"100%",widht:"100%"},children:Object(f.jsxs)("div",{style:{display:"inline-flex",width:"100%",height:"100%"},children:[Object(f.jsxs)("div",{style:{width:"100%",background:"var(--primaryBackground)",padding:"6px",borderRight:"2px solid var(--primaryText)"},children:[Object(f.jsx)("div",{className:"code-editor-input-title",children:"Input"}),Object(f.jsx)("textarea",{value:b,onChange:function(e){h(e.target.value),S("")},className:"code-editor-input-textarea"})]}),Object(f.jsxs)("div",{style:{width:"100%",background:"var(--primaryBackground)",padding:"6px"},children:[Object(f.jsx)("div",{className:"code-editor-input-title",children:"Output "}),Object(f.jsx)("div",{style:{whiteSpace:"pre",textAlign:"left",fontSize:"17px"},className:"outer-scroll-div",children:y})]})]})})]})}function At(e){var t=e.questionDetails,s=e.roomDetails,i=e.enrolled,r=(e.setEnrolled,e.selected),c=e.setSelected,o=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,s=t.confirm,i=t.clearFilters;return Object(f.jsxs)("div",{style:{padding:8},children:[Object(f.jsx)(b.a,{ref:function(e){},placeholder:"Search ".concat(e),value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return l(a,s,e)},style:{marginBottom:8,display:"block"}}),Object(f.jsxs)(ge.b,{children:[Object(f.jsx)(p.a,{type:"primary",onClick:function(){return l(a,s,e)},icon:Object(f.jsx)(we.a,{}),size:"small",style:{width:90},children:"Search"}),Object(f.jsx)(p.a,{onClick:function(){return d(i)},size:"small",style:{width:90},children:"Reset"}),Object(f.jsx)(p.a,{type:"link",size:"small",onClick:function(){s({closeDropdown:!1}),x(a[0]),S(e)},children:"Filter"})]})]})},filterIcon:function(e){return Object(f.jsx)(we.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return n[e]?n[e].toString().toLowerCase().includes(t.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){},render:function(t){return y===e?Object(f.jsx)(Se.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[h],autoEscape:!0,textToHighlight:t?t.toString():""}):t}}},l=function(e,t,n){t(),x(e[0]),S(n)},d=function(e){e(),x("")},u=Object(a.useState)(""),m=Object(j.a)(u,2),h=m[0],x=m[1],g=Object(a.useState)(""),v=Object(j.a)(g,2),y=v[0],S=v[1],w=Object(a.useState)(!0),R=Object(j.a)(w,2),C=R[0],N=R[1],I=(Object(O.b)().enqueueSnackbar,[Object(le.a)({title:"Username",dataIndex:"userName",key:"userName"},o("userName")),Object(le.a)({title:"Name",dataIndex:"name",key:"name"},o("name")),{title:"SpecialFields",children:s.specialFields.map((function(e,t){return{title:e,key:e,render:function(e){return e.specialFields[t]},sorter:function(e,n){return e.specialFields[t]-n.specialFields[t]},sortDirections:["descend","ascend"]}})),hidden:0===s.specialFields.length},{title:"Cases Passed ("+t.noOfTCases+")",key:"cases",render:function(e){return 0!==e.submissionId?Object(f.jsxs)(f.Fragment,{children:[" ",e.tCasesPassed," "]}):Object(f.jsx)(f.Fragment,{})},hidden:0===t.noOfTCases},{title:"Submitted At",key:"submittedAt",render:function(e){return 0!==e.submissionId?Object(f.jsxs)(f.Fragment,{children:[" ",k()(e.submittedAt).format("MMMM Do, h:mm a")," "]}):Object(f.jsx)(f.Fragment,{})},sorter:function(e,t){return t.submittedAt?e.submittedAt?k()(e.submittedAt)-k()(t.submittedAt):1:-1}},{title:"Submitted",key:"submitted",width:"100px",render:function(e){return 0!==e.submissionId?Object(f.jsx)(p.a,{onClick:function(){!function(e){r.submissionId!==e.submissionId&&c(e),N(!1)}(e)},children:"View Submission"}):Object(f.jsx)(f.Fragment,{children:"Not submitted"})}}].filter((function(e){return!e.hidden})));return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{style:{textAlign:"left",paddingLeft:"15px",paddingBottom:"15px",borderBottom:"2px solid #fff"},children:[Object(f.jsx)(p.a,{onClick:function(){N(!0)},style:{margin:"20px 0px 0px 0px"},type:"primary",children:"Open Submission Table"}),Object(f.jsx)(p.a,{icon:Object(f.jsx)(Ce.b,{style:{marginRight:"10px"}}),onClick:function(){var e,a=n(292),r=[{label:"Username",value:"userName"},{label:"Email",value:"email"}];for(e=0;e<s.specialFields.length;e++)r.push({label:s.specialFields[e],value:"special_"+e});t.noOfTCases>0&&r.push({label:"Cases Passed ("+t.noOfTCases+")",value:function(e){return 0!==e.submissionId?e.tCasesPassed:""}}),r.push({label:"Submitted At",value:function(e){return 0!==e.submissionId?k()(e.submittedAt).format("MMMM Do, h:mm a"):""}});var c,o,l=[],d=Object(fe.a)(i);try{for(d.s();!(o=d.n()).done;){var u=o.value;for(c={submissionId:u.submissionId,userName:u.userName,email:u.email,tCasesPassed:u.tCasesPassed,submittedAt:u.submittedAt},e=0;e<s.specialFields.length;e++)c["special_"+e]=u.specialFields[e];l.push(c)}}catch(j){d.e(j)}finally{d.f()}a([{sheet:"Sheet 1",columns:r,content:l}],{fileName:t.title+" Submissions",extraLength:3})},style:{margin:"20px 0px 0px 20px"},children:"Export to excel"})]}),Object(f.jsxs)("div",{style:{padding:"15px",borderBottom:"2px solid #fff"},children:[Object(f.jsxs)("div",{className:"myRooms-cards-description",children:[Object(f.jsx)("span",{style:{marginLeft:"10px",display:"inline-flex",minWidth:"170px"},children:"Username"}),r.userName]}),Object(f.jsxs)("div",{className:"myRooms-cards-description",children:[Object(f.jsx)("span",{style:{marginLeft:"10px",display:"inline-flex",minWidth:"170px"},children:"Name"}),r.name]}),0!==r.submissionId?Object(f.jsxs)("div",{className:"myRooms-cards-description",children:[Object(f.jsx)("span",{style:{marginLeft:"10px",display:"inline-flex",minWidth:"170px"},children:"Submitted At"}),k()(r.submittedAt).format("MMMM Do, h:mm a")]}):Object(f.jsx)(f.Fragment,{}),s.specialFields.map((function(e,t){return Object(f.jsxs)("div",{className:"myRooms-cards-description",children:[Object(f.jsx)("span",{style:{marginLeft:"10px",display:"inline-flex",minWidth:"170px"},children:e}),r.specialFields[t]]})})),0!==t.noOfTCases?Object(f.jsxs)("div",{className:"myRooms-cards-description",children:[Object(f.jsx)("span",{style:{marginLeft:"10px",display:"inline-flex",minWidth:"170px"},children:"Cases passed"}),r.tCasesPassed,"/",t.noOfTCases]}):Object(f.jsx)(f.Fragment,{})]}),Object(f.jsx)(de.a,{title:Object(f.jsx)("div",{style:{width:"1000px"},children:"Submissions"}),centered:!0,visible:C,footer:null,closable:!0,onCancel:function(){N(!1)},width:"80vw",children:Object(f.jsx)(ve.a,{columns:I,dataSource:i,size:"small",pagination:!1})})]})}function Mt(e){var t=e.selected,n=new URLSearchParams(Object(o.h)().search);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(p.a,{onClick:function(){fetch("".concat(Lt,"/get_submitted_file?questionId=").concat(n.get("qId"),"&submissionId=").concat(t.submissionId,"&token=").concat(localStorage.getItem("JWTtoken"))).then((function(e){e.blob().then((function(e){var t=window.URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="Submission.pdf",n.click()}))}))},style:{marginTop:"10px",marginLeft:"10px"},type:"primary",children:"Download PDF"}),Object(f.jsx)(qt.a,{controls:!0,fileType:"pdf",filePath:"".concat(Lt,"/get_submitted_file?questionId=").concat(n.get("qId"),"&submissionId=").concat(t.submissionId,"&token=").concat(localStorage.getItem("JWTtoken"))},t.submissionId)]})}function Bt(){document.title="Submissions | Code Rooms";var e=Object(a.useState)(!0),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(!1),r=Object(j.a)(i,2),c=r[0],l=r[1],m=Object(a.useState)({}),b=Object(j.a)(m,2),p=b[0],h=b[1],g=Object(a.useState)({}),v=Object(j.a)(g,2),S=v[0],R=v[1],C=Object(a.useState)([]),N=Object(j.a)(C,2),k=N[0],I=N[1],T=Object(a.useState)({}),E=Object(j.a)(T,2),q=E[0],D=E[1],F=new URLSearchParams(Object(o.h)().search),z=Object(O.b)().enqueueSnackbar,P=Object(y.b)(),A=Object(o.g)();Object(a.useEffect)(Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(L([{name:"My Rooms",url:"/my_rooms"},{name:S.roomName,url:"/my_rooms/"+S.roomId},{name:"Submissions ("+p.title+")",url:"/submissions?qId="+F.get("qId")}]));case 1:case"end":return e.stop()}}),e)}))),[S.roomId]),Object(a.useEffect)(Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),F.has("qId")||(z("Invalid question.",{variant:"warning"}),A.replace("/my_rooms")),e.next=4,x.a.get("/question_submissions",{params:{questionId:F.get("qId")}}).then((function(e){h({title:e.data.questionDetails.title,description:Je.EditorState.createWithContent(Object(Je.convertFromRaw)(e.data.questionDetails.template.description)),sample:e.data.questionDetails.template.sample,endTime:e.data.questionDetails.endTime,noOfTCases:e.data.questionDetails.testCases,_type:e.data.questionDetails._type}),R({roomId:e.data.roomDetails.roomId,roomName:e.data.roomDetails.roomName,specialFields:e.data.roomDetails.specialFields}),I(e.data.enrolled);for(var t={},n=0;n<e.data.enrolled.length;n++)if(0!==e.data.enrolled[n].submissionId){t=e.data.enrolled[n];break}n===e.data.enrolled.length&&(z("No submissions recorded",{variant:"info"}),A.replace("/my_rooms/"+e.data.roomDetails.roomId)),D(t)})).catch((function(e){try{if(401===e.response.status)return void P(w());z(e.response.data.detail,{variant:"error"}),A.replace("/my_rooms")}catch(t){z("Some error occured while getting submissions",{variant:"error"}),A.replace("/my_rooms")}}));case 4:setTimeout((function(){s(!1)}),500);case 5:case"end":return e.stop()}}),e)}))),[]);return n?Object(f.jsxs)("div",{className:"VerifyEmail-heading-div",children:[Object(f.jsx)("div",{children:"Loading Submissions ...."}),Object(f.jsx)("div",{style:{marginTop:"40px",position:"relative"},children:Object(f.jsx)(_.a,{size:"large",color:"var(--loadingColor)"})})]}):Object(f.jsxs)("div",{children:[Object(f.jsx)(de.a,{centered:!0,visible:c,footer:null,bodyStyle:{padding:"0px"},closable:!1,children:Object(f.jsx)(_.a,{size:"large",color:"var(--loadingColor)"})}),Object(f.jsxs)(Qe.b,{style:{position:"absolute"},minSize:350,maxSize:620,defaultSize:400,split:"vertical",children:[Object(f.jsxs)(Qe.a,{children:[Object(f.jsx)(At,{questionDetails:p,roomDetails:S,enrolled:k,setEnrolled:I,selected:q,setSelected:D}),Object(f.jsx)(dt,{title:p.title,description:p.description,sample:p.sample})]}),"code"===p._type?Object(f.jsx)(Pt,{setOverlayLoading:l,selected:q,setSelected:D}):Object(f.jsx)(Mt,{selected:q})]})]})}var Ut=n(344),Wt=n(352),Vt=be.a.TabPane;function Qt(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(y.c)((function(e){return e.authReducer})),r=Object(O.b)().enqueueSnackbar,l=Object(y.b)(),h=Object(o.g)();Object(a.useEffect)((function(){l(L([{name:"Settings",url:"/user_settings"}]))}),[]),document.title="User Settings | Code Rooms";var g=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.userName!==t.userName){e.next=3;break}return r("Username unchanged !",{variant:"info"}),e.abrupt("return");case 3:return s(!0),e.next=6,x.a.post("/auth/change_username",{userName:t.userName}).then((function(e){localStorage.setItem("JWTtoken",e.data.access_token);var t=Object(v.a)(e.data.access_token),n={isLogged:!0,userId:t.userId,userName:t.userName,firstName:t.firstName,lastName:t.lastName,email:t.email};l(S(n)),r("Username changed to "+t.userName,{variant:"success"})})).catch((function(e){if(!e.response)return r("Some error while changing username!",{variant:"error"}),void s(!1);401===e.response.status?(r(e.response.data.detail,{variant:"error"}),h.replace("/login")):r(e.response.data.detail,{variant:"error"})}));case 6:s(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(be.a,{defaultActiveKey:"userInfo",tabBarExtraContent:Object(f.jsx)(c.b,{to:"/change_password",style:{marginRight:"20px"},children:Object(f.jsx)(p.a,{disabled:n,danger:!0,children:"Change Password"})}),destroyInactiveTabPane:!0,children:[Object(f.jsx)(Vt,{tab:Object(f.jsxs)("div",{className:"myRooms-cards-description",style:{fontSize:"15px"},children:[Object(f.jsx)(Ve.b,{}),Object(f.jsx)("span",{style:{margin:"0px 6px",display:"inline-flex"},children:"Details"})]}),style:{textAlign:"left"},disabled:n,children:Object(f.jsx)("div",{className:"myRooms-cards-box",style:{padding:"5px 0px 0px 0px"},children:Object(f.jsxs)("div",{className:"myRooms-cards-info",children:[Object(f.jsxs)("div",{className:"myRooms-cards-description",children:[Object(f.jsx)(I.d,{}),Object(f.jsx)("span",{style:{marginLeft:"10px",display:"inline-flex",minWidth:"150px"},children:"Name"}),i.firstName+" "+i.lastName]}),Object(f.jsxs)("div",{className:"myRooms-cards-description",children:[Object(f.jsx)(Ut.a,{}),Object(f.jsx)("span",{style:{marginLeft:"10px",display:"inline-flex",minWidth:"150px"},children:"Email"}),i.email]}),Object(f.jsxs)("div",{className:"myRooms-cards-description",children:[Object(f.jsx)(Ve.b,{}),Object(f.jsx)("span",{style:{marginLeft:"10px",display:"inline-flex",minWidth:"150px"},children:"Username"}),i.userName]})]})})},"userInfo"),Object(f.jsx)(Vt,{tab:Object(f.jsxs)("div",{className:"myRooms-cards-description",style:{fontSize:"15px",padding:"0px",margin:"0px"},children:[Object(f.jsx)(Ve.b,{}),Object(f.jsx)("span",{style:{margin:"0px 6px",display:"inline-flex"},children:"Change Username"})]}),destroyInactiveTabPane:!0,children:Object(f.jsx)("div",{className:"signup-input-left",style:{maxWidth:"400px",marginLeft:"20px"},children:Object(f.jsxs)(m.a,{name:"basic",onFinish:g,layout:"vertical",initialValues:{layout:"vertical"},autoComplete:"off",className:"signup-form",children:[Object(f.jsx)(m.a.Item,{label:Object(f.jsxs)("label",{style:{color:"var(--primaryText)"},children:[Object(f.jsx)("span",{style:{paddingRight:"5px"},children:"Username"}),Object(f.jsx)(P.a,{title:"Username must start with a capital letter, have minimum of 3 characters and should not exceed 15 characters. No special charecters except '_' allowed.",children:Object(f.jsx)(Wt.a,{})})]}),name:"userName",rules:[{required:!0,message:"Please input valid username to set!"},{pattern:new RegExp("^[A-Z][a-z0-9_-]{2,15}$"),message:"Invalid username"}],children:Object(f.jsx)(b.a,{disabled:n,defaultValue:i.userName})}),Object(f.jsx)(m.a.Item,{children:Object(f.jsx)(p.a,{htmlType:"submit",type:"primary",loading:n,children:n?"Submitting":"Submit"})})]})})},"changeUsername")]})}var Jt=n(708),Gt=n(346),Kt=n(345),Yt=n.n(Kt),Ht=Jt.a.Meta;function $t(){var e=Object(y.b)();return document.title="About Us | Code Rooms",Object(a.useEffect)((function(){e(L([{name:"About Us",url:"/about"}]))}),[]),Object(f.jsxs)("div",{className:"aboutus-outer",children:[Object(f.jsx)(Yt.a,{smooth:!0,style:{paddingTop:"5px"},color:"var(--primaryBackground)"}),Object(f.jsxs)("div",{className:"aboutus-inner",children:[Object(f.jsx)("img",{onClick:function(){window.location.href="/#/"},src:"./Logo.PNG",style:{alignSelf:"center",width:"250px",boxShadow:"20px 20px 2px rgba(0, 0, 0, 0.3)",marginBottom:"15px"}}),Object(f.jsx)("div",{className:"aboutus-title",children:Object(f.jsx)("u",{children:" About Us "})}),Object(f.jsx)("div",{className:"aboutus-cards",children:Object(f.jsx)(Jt.a,{style:{width:300},cover:Object(f.jsx)("img",{alt:"Shlok",src:"https://avatars.githubusercontent.com/u/63449205?v=4"}),actions:[Object(f.jsx)("a",{href:"https://github.com/Shlok-Zanwar?tab=repositories",target:"_blank",children:Object(f.jsx)(A.c,{className:"aboutus-card-icons"},"github")}),Object(f.jsx)("a",{href:"https://shlok-zanwar.github.io/",target:"_blank",children:Object(f.jsx)(Gt.a,{className:"aboutus-card-icons"},"website")}),Object(f.jsx)("a",{href:"https://www.linkedin.com/in/shlok-zanwar-0124961ba/",target:"_blank",children:Object(f.jsx)(A.d,{className:"aboutus-card-icons"},"linkedin")}),Object(f.jsx)(P.a,{title:"shlokzanwar14@gmail.com",children:Object(f.jsx)("a",{href:"mailto:shlokzanwar14@gmail.com",target:"_blank",children:Object(f.jsx)(Ce.a,{className:"aboutus-card-icons"},"gmail")})})],children:Object(f.jsx)(Ht,{title:"Shlok Zanwar",description:Object(f.jsxs)("span",{children:[Object(f.jsx)("div",{style:{textAlign:"left",marginBottom:"15px"},children:"(TY CS B-Tech) Student at vishwakarma institute of information technology, pune."}),Object(f.jsx)("div",{style:{textAlign:"left"},children:"Quick learner, Proactive"}),Object(f.jsx)("div",{style:{textAlign:"left"},children:"Tech enthusiast"})]})})})}),Object(f.jsx)("div",{className:"aboutus-cards",children:Object(f.jsx)(Jt.a,{style:{width:300},cover:Object(f.jsx)("img",{alt:"Roshan",src:"https://i.ibb.co/K6cpBDW/img.jpg"}),actions:[Object(f.jsx)("a",{href:"https://github.com/roshanpurohit",target:"_blank",children:Object(f.jsx)(A.c,{className:"aboutus-card-icons"},"github")}),Object(f.jsx)("a",{href:"https://www.linkedin.com/in/roshan-purohit-87389b1a7",target:"_blank",children:Object(f.jsx)(A.d,{className:"aboutus-card-icons"},"linkedin")}),Object(f.jsx)(P.a,{title:"roshpurohit24@gmail.com",children:Object(f.jsx)("a",{href:"mailto:roshpurohit24@gmail.com",target:"_blank",children:Object(f.jsx)(Ce.a,{className:"aboutus-card-icons"},"gmail")})})],children:Object(f.jsx)(Ht,{title:"Roshan Purohit",description:Object(f.jsxs)("span",{children:[Object(f.jsx)("div",{style:{textAlign:"left",marginBottom:"15px"},children:"(TY CS B-Tech) Student at vishwakarma institute of information technology, pune."}),Object(f.jsx)("div",{style:{textAlign:"left"},children:"Ardent problem solver"}),Object(f.jsx)("div",{style:{textAlign:"left"},children:"Web dev enthusiast"})]})})})}),Object(f.jsx)("div",{className:"aboutus-cards",children:Object(f.jsx)(Jt.a,{style:{width:300},cover:Object(f.jsx)("img",{alt:"Roshan",src:"https://i.ibb.co/ssQVy57/Parag.jpg"}),actions:[Object(f.jsx)("a",{href:"https://github.com/parag-2804",target:"_blank",children:Object(f.jsx)(A.c,{className:"aboutus-card-icons"},"github")}),Object(f.jsx)("a",{href:"https://www.linkedin.com/in/parag-jadhav-0205a5215/",target:"_blank",children:Object(f.jsx)(A.d,{className:"aboutus-card-icons"},"linkedin")}),Object(f.jsx)(P.a,{title:"parag2804@gmail.com",children:Object(f.jsx)("a",{href:"mailto:parag2804@gmail.com",target:"_blank",children:Object(f.jsx)(Ce.a,{className:"aboutus-card-icons"},"gmail")})})],children:Object(f.jsx)(Ht,{title:"Parag Jadhav",description:Object(f.jsx)("span",{children:Object(f.jsx)("div",{style:{textAlign:"left",marginBottom:"15px"},children:"(TY CS B-Tech) Student at vishwakarma institute of information technology, pune."})})})})}),Object(f.jsx)("div",{className:"aboutus-content",children:Object(f.jsxs)("p",{children:[Object(f.jsx)("span",{style:{color:"var(--tertiaryBackground)"},children:"Code rooms is a learning management system where teachers can seamlessly create rooms,assignments and assess assignments. Students can easily submit assigned assignments."}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("u",{children:"Cool Features:"}),Object(f.jsx)("div",{className:"aboutus-list",children:Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:"Create Rooms with features like waiting room authority and visibility on the go with one click."}),Object(f.jsx)("li",{children:"Questions can be made in rooms with submission info and edit options right on the card."}),Object(f.jsx)("li",{children:"Create questions on the go with side by side expected user preview on the left with all editable components on right in resizable panels."}),Object(f.jsx)("li",{children:"Questions can be of code or file submission type."}),Object(f.jsx)("li",{children:"Code type questions have option to add testcases which will be processed on submissions."}),Object(f.jsx)("li",{children:"Question settings like End time and visibility can be edited anytime."}),Object(f.jsx)("li",{children:"Question due time on question cards itself."}),Object(f.jsx)("li",{children:"Code type questions can be submitted with user friendly resizable code editor with options like run with entered input, save current code and submit."}),Object(f.jsx)("li",{children:"File type questions let you upload the file with a preview before submitting"}),Object(f.jsx)("li",{children:"Submissions of any type of question can be assessed easily in every question with a code editor with submitted code or a preview of the file submitted right on the screen with download option."}),Object(f.jsx)("li",{children:"Easy navigation throughout the application with features like breadcrumbs."})]})})]})})]})]})}function Zt(e){var t=e.questions,n=e.questionDetails,s=e.roomDetails,i=e.enrolled,r=e.selectedQuestionIndex,c=e.setSelectedQuestionIndex,o=e.selected,l=e.setSelected,d=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,s=t.confirm,i=t.clearFilters;return Object(f.jsxs)("div",{style:{padding:8},children:[Object(f.jsx)(b.a,{ref:function(e){},placeholder:"Search ".concat(e),value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return u(a,s,e)},style:{marginBottom:8,display:"block"}}),Object(f.jsxs)(ge.b,{children:[Object(f.jsx)(p.a,{type:"primary",onClick:function(){return u(a,s,e)},icon:Object(f.jsx)(we.a,{}),size:"small",style:{width:90},children:"Search"}),Object(f.jsx)(p.a,{onClick:function(){return m(i)},size:"small",style:{width:90},children:"Reset"}),Object(f.jsx)(p.a,{type:"link",size:"small",onClick:function(){s({closeDropdown:!1}),v(a[0]),R(e)},children:"Filter"})]})]})},filterIcon:function(e){return Object(f.jsx)(we.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return n[e]?n[e].toString().toLowerCase().includes(t.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){},render:function(t){return w===e?Object(f.jsx)(Se.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[g],autoEscape:!0,textToHighlight:t?t.toString():""}):t}}},u=function(e,t,n){t(),v(e[0]),R(n)},m=function(e){e(),v("")},h=Object(a.useState)(""),x=Object(j.a)(h,2),g=x[0],v=x[1],y=Object(a.useState)(""),S=Object(j.a)(y,2),w=S[0],R=S[1],C=Object(a.useState)(!0),N=Object(j.a)(C,2),I=N[0],T=N[1],_=(Object(O.b)().enqueueSnackbar,[Object(le.a)({title:"Username",dataIndex:"userName",key:"userName"},d("userName")),Object(le.a)({title:"Name",dataIndex:"name",key:"name"},d("name")),{title:"SpecialFields",children:s.specialFields.map((function(e,t){return{title:e,key:e,render:function(e){return e.specialFields[t]},sorter:function(e,n){return e.specialFields[t]-n.specialFields[t]},sortDirections:["descend","ascend"]}})),hidden:0===s.specialFields.length},{title:"Submitted",key:"submitted",width:"100px",render:function(e){return Object(f.jsx)(p.a,{onClick:function(){!function(e){l(e),T(!1)}(e)},children:"View Submission"})}}].filter((function(e){return!e.hidden})));return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{style:{textAlign:"left",paddingLeft:"15px",paddingBottom:"15px",borderBottom:"2px solid #fff",display:"flex"},children:[Object(f.jsx)(p.a,{onClick:function(){T(!0)},style:{margin:"20px 0px 0px 0px"},type:"primary",children:"Open Submission Table"}),Object(f.jsx)("div",{style:{display:"inline-flex"},children:Object(f.jsx)(ue.a,{onChange:function(e){c(e)},style:{margin:"20px 0px 0px 15px",width:"130px"},value:r,children:t.map((function(e,t){return Object(f.jsx)(ue.a.Option,{value:t,children:e.title},t)}))})})]}),Object(f.jsxs)("div",{style:{padding:"15px",borderBottom:"2px solid #fff"},children:[Object(f.jsxs)("div",{className:"myRooms-cards-description",children:[Object(f.jsx)("span",{style:{marginLeft:"10px",display:"inline-flex",minWidth:"170px"},children:"Username"}),o.userName]}),Object(f.jsxs)("div",{className:"myRooms-cards-description",children:[Object(f.jsx)("span",{style:{marginLeft:"10px",display:"inline-flex",minWidth:"170px"},children:"Name"}),o.name]}),0!==o.submissions[r].submissionId?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"myRooms-cards-description",children:[Object(f.jsx)("span",{style:{marginLeft:"10px",display:"inline-flex",minWidth:"170px"},children:"Submitted At"}),k()(o.submissions[r].submittedAt).format("MMMM Do, h:mm a")]}),Object(f.jsxs)("div",{className:"myRooms-cards-description",children:[Object(f.jsx)("span",{style:{marginLeft:"10px",display:"inline-flex",minWidth:"170px"},children:"Due Date"}),k()(n.endTime).format("MMMM Do, h:mm a")]})]}):Object(f.jsx)(f.Fragment,{}),s.specialFields.map((function(e,t){return Object(f.jsxs)("div",{className:"myRooms-cards-description",children:[Object(f.jsx)("span",{style:{marginLeft:"10px",display:"inline-flex",minWidth:"170px"},children:e}),o.specialFields[t]]})})),t[r].testCases?Object(f.jsxs)("div",{className:"myRooms-cards-description",children:[Object(f.jsx)("span",{style:{marginLeft:"10px",display:"inline-flex",minWidth:"170px"},children:"Cases passed"}),o.submissions[r].tCasesPassed,"/",t[r].testCases]}):Object(f.jsx)(f.Fragment,{})]}),Object(f.jsx)(de.a,{title:Object(f.jsx)("div",{style:{width:"1000px"},children:"Submissions"}),centered:!0,visible:I,footer:null,closable:!0,onCancel:function(){T(!1)},width:"80vw",children:Object(f.jsx)(ve.a,{columns:_,dataSource:i,size:"small",pagination:!1})})]})}var Xt=ue.a.Option;function en(e){var t=e.selectedQuestionIndex,n=e.setOverlayLoading,s=e.selected,i=(e.setSelected,Object(a.useState)("")),r=Object(j.a)(i,2),c=r[0],o=r[1],l=Object(a.useState)("cpp"),m=Object(j.a)(l,2),b=m[0],h=m[1],g=Object(a.useState)(""),v=Object(j.a)(g,2),y=v[0],S=v[1],w=Object(a.useState)(""),R=Object(j.a)(w,2),C=R[0],N=R[1],k=Object(a.useRef)(null),I=lt(),T=I.height,_=(I.width,Object(O.b)().enqueueSnackbar),E=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,x.a.get("/get_submitted_code",{params:{submissionId:s.submissions[t].submissionId}}).then((function(e){o(e.data.data.code),h(e.data.data.language)})).catch((function(e){_("Some error occured while getting submission",{variant:"error"})}));case 3:n(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){s.submissions[t].submissionId&&E()}),[s,t]);var q=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fe("CodeRooms","Run Code",""),n(!0),N(""),e.next=5,x.a.post("/run_code",{code:k.current.getValue(),language:b,input:y}).then((function(e){N(JSON.parse(e.data).output)})).catch((function(e){_("Some error occured while run.",{variant:"error"})}));case 5:n(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(Qe.b,{minSize:T-65-270,maxSize:T-75,defaultSize:T-65-170,split:"horizontal",children:[Object(f.jsxs)(Qe.a,{style:{height:"100%",width:"100%"},children:[Object(f.jsxs)("div",{className:"code-editor-nav",children:[Object(f.jsx)("span",{children:Object(f.jsxs)(p.a,{style:{color:"var(--primaryText)",backgroundColor:"none",width:"auto"},onClick:q,children:[Object(f.jsx)(Ot.a,{}),"Run"]})}),Object(f.jsxs)("span",{children:[Object(f.jsx)("span",{style:{color:"#fff",marginRight:"10px"},children:"Language :"}),Object(f.jsxs)(ue.a,{value:b,style:{width:120},onChange:function(e){h(e)},children:[Object(f.jsx)(Xt,{value:"cpp",children:"CPP"}),Object(f.jsx)(Xt,{value:"c",children:"C"}),Object(f.jsx)(Xt,{value:"java",children:"Java"}),Object(f.jsx)(Xt,{value:"python",children:"Python"})]})]})]}),Object(f.jsx)(xt.a,{options:{readOnly:!0},value:c||"",theme:"vs-dark",readOnly:!0,language:b,onMount:function(e,t){k.current=e}},s.submissions[t].questionId)]}),Object(f.jsx)(Qe.a,{style:{height:"100%",widht:"100%"},children:Object(f.jsxs)("div",{style:{display:"inline-flex",width:"100%",height:"100%"},children:[Object(f.jsxs)("div",{style:{width:"100%",background:"var(--primaryBackground)",padding:"6px",borderRight:"2px solid var(--primaryText)"},children:[Object(f.jsx)("div",{className:"code-editor-input-title",children:"Input"}),Object(f.jsx)("textarea",{value:y,onChange:function(e){S(e.target.value),N("")},className:"code-editor-input-textarea"})]}),Object(f.jsxs)("div",{style:{width:"100%",background:"var(--primaryBackground)",padding:"6px"},children:[Object(f.jsx)("div",{className:"code-editor-input-title",children:"Output "}),Object(f.jsx)("div",{style:{whiteSpace:"pre",textAlign:"left",fontSize:"17px"},className:"outer-scroll-div",children:C})]})]})})]})}function tn(e){var t=e.questionId,n=e.submissionId;new URLSearchParams(Object(o.h)().search);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(p.a,{onClick:function(){fetch("".concat(Lt,"/get_submitted_file?questionId=").concat(t,"&submissionId=").concat(n,"&token=").concat(localStorage.getItem("JWTtoken"))).then((function(e){e.blob().then((function(e){var t=window.URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="Submission.pdf",n.click()}))}))},style:{marginTop:"10px",marginLeft:"10px"},type:"primary",children:"Download PDF"}),Object(f.jsx)(qt.a,{controls:!0,fileType:"pdf",filePath:"".concat(Lt,"/get_submitted_file?questionId=").concat(t,"&submissionId=").concat(n,"&token=").concat(localStorage.getItem("JWTtoken"))},n+t)]})}function nn(){document.title="All Submissions | Code Rooms";var e=Object(a.useState)(!0),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(!1),r=Object(j.a)(i,2),c=r[0],l=r[1],m=new URLSearchParams(Object(o.h)().search),b=Object(O.b)().enqueueSnackbar,p=Object(y.b)(),h=Object(o.g)(),g=Object(a.useState)({}),v=Object(j.a)(g,2),S=v[0],R=v[1],C=Object(a.useState)(0),N=Object(j.a)(C,2),k=N[0],I=N[1],T=Object(a.useState)([]),E=Object(j.a)(T,2),q=E[0],D=E[1],F=Object(a.useState)({}),z=Object(j.a)(F,2),P=z[0],A=z[1],M=Object(a.useState)({}),B=Object(j.a)(M,2),U=B[0],W=B[1];Object(a.useEffect)(Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(L([{name:"My Rooms",url:"/my_rooms"},{name:S.roomName,url:"/my_rooms/"+S.roomId},{name:"All Submissions",url:"/all_submissions?roomId="+m.get("roomId")}]));case 1:case"end":return e.stop()}}),e)}))),[S.roomId]),Object(a.useEffect)(Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,x.a.get("/all_submissions/".concat(m.get("roomId"))).then((function(e){R(e.data.roomInfo),D(e.data.questions),0===e.data.questions.length&&(b("No questions in room.",{variant:"info"}),h.replace("/my_rooms/"+e.data.roomDetails.roomId)),I(0),A(e.data.enrolled),0===e.data.enrolled.length&&(b("No students enrolled.",{variant:"info"}),h.replace("/my_rooms/"+e.data.roomDetails.roomId)),W(e.data.enrolled[0])})).catch((function(e){try{if(401===e.response.status)return void p(w());b(e.response.data.detail,{variant:"error"}),h.replace("/my_rooms")}catch(t){b("Some error occured while getting submissions",{variant:"error"}),h.replace("/my_rooms")}}));case 3:s(!1);case 4:case"end":return e.stop()}}),e)}))),[]);return n?Object(f.jsxs)("div",{className:"VerifyEmail-heading-div",children:[Object(f.jsx)("div",{children:"Loading Submissions ...."}),Object(f.jsx)("div",{style:{marginTop:"40px",position:"relative"},children:Object(f.jsx)(_.a,{size:"large",color:"var(--loadingColor)"})})]}):Object(f.jsxs)("div",{children:[Object(f.jsx)(de.a,{centered:!0,visible:c,footer:null,bodyStyle:{padding:"0px"},closable:!1,children:Object(f.jsx)(_.a,{size:"large",color:"var(--loadingColor)"})}),Object(f.jsxs)(Qe.b,{style:{position:"absolute"},minSize:350,maxSize:620,defaultSize:400,split:"vertical",children:[Object(f.jsxs)(Qe.a,{children:[Object(f.jsx)(Zt,{questions:q,questionDetails:q[k],roomDetails:S,enrolled:P,selectedQuestionIndex:k,setSelectedQuestionIndex:I,selected:U,setSelected:W}),Object(f.jsx)(dt,{title:q[k].title,description:Je.EditorState.createWithContent(Object(Je.convertFromRaw)(q[k].template.description)),sample:q[k].template.sample})]}),0===U.submissions[k].submissionId?Object(f.jsx)("div",{className:"playground-code-title",style:{color:"var(--privateRoom)"},children:"No Submission Found"}):"code"===q[k]._type?Object(f.jsx)(en,{selectedQuestionIndex:k,setOverlayLoading:l,selected:U,setSelected:W}):Object(f.jsx)(tn,{questionId:q[k].questionId,submissionId:U.submissions[k].submissionId})]})]})}function an(){var e=Object(a.useState)(!0),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(y.c)((function(e){return e.authReducer})),r=Object(y.b)(),c=Object(O.b)().enqueueSnackbar,l=Object(o.h)();Object(a.useEffect)((function(){De.a.pageview(l.pathname)}),[l.pathname]);var m=function(e){e.response&&401===e.response.status?r(w()):c("Some Error occurred while getting Rooms. Please refresh page",{variant:"error"})},b=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==i.accountType){e.next=2;break}return e.abrupt("return");case 2:r({type:"RDR_SET_MYROOMS_LOADING"}),x.a.get("/my_rooms").then((function(e){r(E(e.data.myRooms)),r({type:"RDR_REMOVE_MYROOMS_LOADING"})})).catch((function(e){m(e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r({type:"RDR_SET_ENROLLED_LOADING"}),x.a.get("/enrolled_rooms").then((function(e){r(q(e.data.enrolledRooms)),r({type:"RDR_REMOVE_ENROLLED_LOADING"})})).catch((function(e){m(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){try{if(localStorage.JWTtoken){var e=localStorage.getItem("JWTtoken"),t=Object(v.a)(e),n=Date.now()/1e3;if(t.exp>=n){var a={isLogged:!0,userId:t.userId,userName:t.userName,firstName:t.firstName,lastName:t.lastName,email:t.email,accountType:t.accountType?t.accountType:1};r(S(a)),p(),b()}}}catch(i){console.log(i)}s(!1)}),[]),n?Object(f.jsx)("div",{style:{fontSize:"40px",fontWeight:"bolder",color:"var(--secondaryBackground)"},children:"Loading ....."}):i.isLogged?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(te,{}),i.accountType>0?Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(o.d,{children:[Object(f.jsx)(o.b,{exact:!0,path:"/my_rooms",children:Object(f.jsx)(ie,{getMyRoomsData:b})}),Object(f.jsx)(o.b,{exact:!0,path:"/my_rooms/:id",children:Object(f.jsx)(Te,{getMyRoomsData:b})}),Object(f.jsx)(o.b,{exact:!0,path:"/edit_question",children:Object(f.jsx)(ht,{})}),Object(f.jsx)(o.b,{exact:!0,path:"/submissions",children:Object(f.jsx)(Bt,{})}),Object(f.jsx)(o.b,{exact:!0,path:"/all_submissions",children:Object(f.jsx)(nn,{})}),Object(f.jsx)(o.b,{exact:!0,path:"/join_room",children:Object(f.jsx)(ze,{})}),Object(f.jsx)(o.b,{exact:!0,path:"/enrolled_rooms",children:Object(f.jsx)(Ee,{getEnrolledRoomsData:p})}),Object(f.jsx)(o.b,{exact:!0,path:"/enrolled_rooms/:id",children:Object(f.jsx)(Ue,{})}),Object(f.jsx)(o.b,{exact:!0,path:"/question",children:Object(f.jsx)(Ft,{})}),Object(f.jsx)(o.b,{exact:!0,path:"/code",children:Object(f.jsx)(Rt,{})}),Object(f.jsx)(o.b,{exact:!0,path:"/user_settings",children:Object(f.jsx)(Qt,{})}),Object(f.jsx)(o.b,{exact:!0,path:"/about",children:Object(f.jsx)($t,{})}),Object(f.jsx)(o.b,{path:"/",children:Object(f.jsx)(D,{})})]})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(o.d,{children:[Object(f.jsx)(o.b,{exact:!0,path:"/join_room",children:Object(f.jsx)(ze,{})}),Object(f.jsx)(o.b,{exact:!0,path:"/enrolled_rooms",children:Object(f.jsx)(Ee,{getEnrolledRoomsData:p})}),Object(f.jsx)(o.b,{exact:!0,path:"/enrolled_rooms/:id",children:Object(f.jsx)(Ue,{})}),Object(f.jsx)(o.b,{exact:!0,path:"/question",children:Object(f.jsx)(Ft,{})}),Object(f.jsx)(o.b,{exact:!0,path:"/code",children:Object(f.jsx)(Rt,{})}),Object(f.jsx)(o.b,{exact:!0,path:"/user_settings",children:Object(f.jsx)(Qt,{})}),Object(f.jsx)(o.b,{exact:!0,path:"/about",children:Object(f.jsx)($t,{})}),Object(f.jsx)(o.b,{path:"/",children:Object(f.jsx)(D,{})})]})})]}):Object(f.jsx)(o.a,{push:!0,to:{pathname:"/login",state:{from:window.location.href}}})}function sn(){document.title="Verify Email | Code Rooms";var e=Object(a.useState)(10),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(""),r=Object(j.a)(i,2),c=r[0],l=r[1],m=Object(a.useState)("#ff1c03"),b=Object(j.a)(m,2),p=b[0],h=b[1],g=new URLSearchParams(Object(o.h)().search),v=Object(O.b)().enqueueSnackbar,y=Object(o.g)();return Object(a.useEffect)(Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n<=0&&y.replace("/login"),""!==c){e.next=9;break}if(g.has("email")&&g.has("otp")){e.next=7;break}l("Invalid Credentials"),v("Some Error occurred",{variant:"error"}),e.next=9;break;case 7:return e.next=9,x.a.post("/auth/verify_email",{email:g.get("email"),otp:g.get("otp")}).then((function(e){v("Email Verified",{variant:"success"}),l("Email id "+g.get("email")+" Verified"),h("#46ed1c")})).catch((function(e){try{l(e.response.data.detail)}catch(t){l("Some Error Occured")}v("Some Error occurred",{variant:"error"})}));case 9:setTimeout((function(){s(n-1)}),1e3);case 10:case"end":return e.stop()}}),e)}))),[n]),Object(f.jsxs)("div",{className:"VerifyEmail-outer-div",children:[Object(f.jsx)("div",{className:"VerifyEmail-heading-div",children:"Verifying Details with Server ..."}),""===c?Object(f.jsx)("div",{style:{marginTop:"20px",position:"relative"},children:Object(f.jsx)(Re.PointSpreadLoading,{color:"var(--loadingColor)"})}):Object(f.jsxs)("div",{className:"verifyEmail-status-div",children:[Object(f.jsxs)("div",{children:["Status : ",Object(f.jsx)("span",{style:{color:p},children:c})]}),Object(f.jsxs)("div",{children:["Redirecting to ",Object(f.jsx)("span",{children:Object(f.jsx)("a",{href:"/#/login",children:"login"})})," page in ",n," seconds"]})]})]})}function rn(){document.title="Sign Up | Code Rooms";var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(O.b)().enqueueSnackbar,r=Object(o.g)(),c=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s(!0),t.password===t.rePassword){e.next=5;break}return i("Passwords do not match!",{variant:"error"}),setTimeout((function(){s(!1)}),1e3),e.abrupt("return");case 5:return e.next=7,x.a.post("/auth/signup",{firstName:t.firstName,lastName:t.lastName,email:t.email,password:t.password,username:t.userName}).then((function(e){i("Verification link has been sent to "+t.email+". Please verify your account.",{variant:"success"}),s(!1),r.push("/login")})).catch((function(e){try{i(e.response.data.detail,{variant:"error"})}catch(t){i("Some Error occurred.",{variant:"error"})}s(!1)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"signup-outer-div",children:[Object(f.jsx)("img",{src:"./Logo.PNG",style:{alignSelf:"center",width:"250px",boxShadow:"20px 20px 2px rgba(0, 0, 0, 0.3)"}}),Object(f.jsx)("div",{className:"signup-header-div",children:"Sign Up"}),Object(f.jsxs)(m.a,{name:"basic",onFinish:c,layout:"vertical",initialValues:{layout:"vertical"},autoComplete:"off",className:"signup-form",children:[Object(f.jsxs)("div",{className:"signup-input-sameline",children:[Object(f.jsx)(m.a.Item,{label:Object(f.jsx)("label",{style:{color:"var(--primaryText)"},children:"First Name"}),name:"firstName",rules:[{required:!0,message:"Please input your First Name!"}],children:Object(f.jsx)(b.a,{})}),Object(f.jsx)(m.a.Item,{label:Object(f.jsx)("label",{style:{color:"var(--primaryText)"},children:"Last Name"}),name:"lastName",rules:[{required:!0,message:"Please input your Last Name!"}],children:Object(f.jsx)(b.a,{})})]}),Object(f.jsxs)("div",{className:"signup-input-left",children:[Object(f.jsx)(m.a.Item,{label:Object(f.jsx)("label",{style:{color:"var(--primaryText)"},children:"Email"}),name:"email",rules:[{required:!0,message:"Please input your Email address!"},{type:"email",warningOnly:!0,message:"Input is not a valid email address!"}],children:Object(f.jsx)(b.a,{})}),Object(f.jsx)(m.a.Item,{label:Object(f.jsxs)("label",{style:{color:"var(--primaryText)"},children:[Object(f.jsx)("span",{style:{paddingRight:"5px"},children:"Username"}),Object(f.jsx)(P.a,{title:"Username must start with a capital letter, have minimum of 3 characters and should not exceed 15 characters. No special charecters except '_' allowed.",children:Object(f.jsx)(Wt.a,{})})]}),name:"userName",rules:[{required:!0,message:"Please input username to set!"},{pattern:new RegExp("^[A-Z][a-z0-9_-]{2,15}$"),message:"Invalid username"}],children:Object(f.jsx)(b.a,{})})]}),Object(f.jsxs)("div",{className:"signup-input-sameline",children:[Object(f.jsx)(m.a.Item,{label:Object(f.jsxs)("label",{style:{color:"var(--primaryText)"},children:[Object(f.jsx)("span",{style:{paddingRight:"5px"},children:"Password"}),Object(f.jsx)(P.a,{title:"Password must contain ATLEAST one uppercase character, one lowercase character, one numeric character, one special character and should have length of 5 to 15 characters.",children:Object(f.jsx)(Wt.a,{})})]}),name:"password",rules:[{required:!0,message:"Please input password!"},{message:"Invalid Password!",pattern:new RegExp("^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[*.!@$%^#&:;<>(){},.?~_|]).{5,15}$")}],children:Object(f.jsx)(b.a.Password,{})}),Object(f.jsx)(m.a.Item,{label:Object(f.jsx)("label",{style:{color:"var(--primaryText)"},children:"Re-Enter Password"}),name:"rePassword",rules:[{required:!0,message:"Please re-enter your password!"}],children:Object(f.jsx)(b.a.Password,{})})]}),Object(f.jsx)("a",{href:"/#/login",children:" Already have an account? Log in. "}),Object(f.jsx)(m.a.Item,{wrapperCol:{offset:8,span:16},children:Object(f.jsx)(p.a,{htmlType:"submit",style:{backgroundColor:"var(--success)",width:"auto",fontSize:"20px",height:"auto",marginRight:"130px",marginTop:"20px"},loading:n,children:n?"Submitting":"Submit"})})]})]})}function cn(){document.title="Reset Password | Code Rooms";var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(!1),r=Object(j.a)(i,2),c=r[0],l=r[1],h=Object(O.b)().enqueueSnackbar,g=Object(o.g)(),v=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,x.a.get("/auth/request_change_password",{params:{email:t}}).then((function(e){l(!0),h("OTP has been sent to "+t,{variant:"success"})})).catch((function(e){if(!e.response)return h("Some Error occurred.",{variant:"error"}),void s(!1);401===e.response.status?(h(e.response.data.detail,{variant:"error"}),g.replace("/login")):h(e.response.data.detail,{variant:"error"})}));case 3:s(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,x.a.post("/auth/change_password",{email:t.email,password:t.password,otp:t.otp}).then((function(e){h("Password changed",{variant:"success"}),g.replace("/login")})).catch((function(e){e.response?h(e.response.data.detail,{variant:"error"}):h("Some Error occurred.",{variant:"error"})}));case 3:s(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.otp){e.next=4;break}v(t.email),e.next=9;break;case 4:if(t.password===t.rePassword){e.next=8;break}return h("Passwords do not match!",{variant:"error"}),s(!1),e.abrupt("return");case 8:y(t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"signup-outer-div",children:[Object(f.jsx)("img",{src:"./Logo.PNG",style:{alignSelf:"center",width:"250px",boxShadow:"20px 20px 2px rgba(0, 0, 0, 0.3)"}}),Object(f.jsx)("div",{className:"signup-header-div",children:"Change password"}),Object(f.jsxs)(m.a,{name:"basic",layout:"vertical",initialValues:{layout:"vertical"},onFinish:S,autoComplete:"off",className:"signup-form",children:[Object(f.jsx)("div",{className:"signup-input-left",children:Object(f.jsx)(m.a.Item,{label:Object(f.jsx)("label",{style:{color:"var(--primaryText)"},children:"Email"}),name:"email",rules:[{required:!0,message:"Please input your Email address!"},{type:"email",warningOnly:!0}],children:Object(f.jsx)(b.a,{readOnly:c})})}),c?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(m.a.Item,{label:Object(f.jsx)("label",{style:{color:"var(--primaryText)"},children:"OTP"}),name:"otp",rules:[{required:!0,message:"Invalid OTP !"},{pattern:new RegExp("^[0-9]{6}$"),message:"Invalid OTP !"}],children:Object(f.jsx)(b.a,{type:"number"})}),Object(f.jsxs)("div",{className:"signup-input-sameline",children:[Object(f.jsx)(m.a.Item,{label:Object(f.jsxs)("label",{style:{color:"var(--primaryText)"},children:[Object(f.jsx)("span",{style:{paddingRight:"5px"},children:"Password"}),Object(f.jsx)(P.a,{title:"Password must contain ATLEAST one uppercase character, one lowercase character, one numeric character, one special character and should have length of 5 to 15 characters.",children:Object(f.jsx)(Wt.a,{})})]}),name:"password",rules:[{required:!0,message:"Please input your password!"},{message:"Invalid Password!",pattern:new RegExp("^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[*.!@$%^#&:;<>(){},.?~_|]).{5,}$")}],children:Object(f.jsx)(b.a.Password,{})}),Object(f.jsx)(m.a.Item,{label:Object(f.jsx)("label",{style:{color:"var(--primaryText)"},children:"Re-Enter Password"}),name:"rePassword",rules:[{required:!0,message:"Please re-enter your password!"}],children:Object(f.jsx)(b.a.Password,{})})]}),Object(f.jsx)("span",{style:{color:"red"},children:"Do not refresh this page."})]}):Object(f.jsx)(f.Fragment,{}),Object(f.jsx)(m.a.Item,{wrapperCol:{offset:8,span:16},children:Object(f.jsx)(p.a,{htmlType:"submit",style:{backgroundColor:"var(--success)",width:"auto",height:"auto",marginRight:"130px",marginTop:"20px"},loading:n,children:c?"Change Password":"Get OTP"})})]})]})}function on(){return Object(f.jsx)(c.a,{basename:"/",children:Object(f.jsxs)(o.d,{children:[Object(f.jsx)(o.b,{path:"/login",children:Object(f.jsx)(g,{})}),Object(f.jsx)(o.b,{path:"/signup",children:Object(f.jsx)(rn,{})}),Object(f.jsx)(o.b,{path:"/verify_email",children:Object(f.jsx)(sn,{})}),Object(f.jsx)(o.b,{path:"/change_password",children:Object(f.jsx)(cn,{})}),Object(f.jsx)(o.b,{exact:!0,path:"/about_us",children:Object(f.jsx)($t,{})}),Object(f.jsx)(o.b,{path:"/",children:Object(f.jsx)(an,{})})]})})}var ln=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,727)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),i(e),r(e)}))},dn=n(215),un={isLogged:!1},jn=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"AR_SET_LOGGED":return(e=Object(le.a)({},n.payload)).isLogged=!0,e;case"AR_LOGOUT":return(e={}).isLogged=!1,e;default:return t}},mn={myRooms:[],enrolledRooms:[],myRoomsLoading:!0,enrolledRoomsLoading:!0,breadcrumb:[]},bn=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"RDR_SET_MYROOMS_LOADING":return(e=Object(le.a)({},t)).myRoomsLoading=!0,e;case"RDR_REMOVE_MYROOMS_LOADING":return(e=Object(le.a)({},t)).myRoomsLoading=!1,e;case"RDR_SET_ENROLLED_LOADING":return(e=Object(le.a)({},t)).enrolledRoomsLoading=!0,e;case"RDR_REMOVE_ENROLLED_LOADING":return(e=Object(le.a)({},t)).enrolledRoomsLoading=!1,e;case"RDR_SET_MYROOMS":return(e=Object(le.a)({},t)).myRooms=n.payload,e;case"RDR_SET_ENROLLED":return(e=Object(le.a)({},t)).enrolledRooms=n.payload,e;case"RDR_SET_BREADCRUMB":return(e=Object(le.a)({},t)).breadcrumb=n.payload,e;default:return t}},pn=Object(dn.a)({authReducer:jn,roomsDataReducer:bn});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));De.a.initialize("UA-193484628-1"),x.a.defaults.baseURL=Lt,x.a.defaults.headers.common.Authorization=localStorage.getItem("JWTtoken");var hn=Object(dn.b)(pn,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());r.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(y.a,{store:hn,children:Object(f.jsx)(O.a,{maxSnack:3,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:4e3,children:Object(f.jsx)(on,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),ln()}},[[679,1,2]]]);
//# sourceMappingURL=main.e69a1082.chunk.js.map